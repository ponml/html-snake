/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("var GameObjects = __webpack_require__(1);\nvar Snake = GameObjects.Snake;\nvar SnakeSegment = GameObjects.SnakeSegment;\nvar Food = GameObjects.Food;\n\nwindow.onload = function () {\n    const canvasWidth = 1520;\n    const canvasHeight = 920;\n    var SEGMENT_SIZE = 20;\n    var FPS = 60;\n    var gameLoop;\n    var gameRunning = true;\n\n    var dirKeyLookup = {\n        37: 'WEST',\n        38: 'NORTH',\n        39: 'EAST',\n        40: 'SOUTH'\n    };\n\n    var reverseDirKeyLookup = {\n        WEST: 37,\n        NORTH: 38,\n        EAST: 39,\n        SOUTH: 40\n    };\n\n    var unallowedDirLookup = {\n        'WEST': 39,\n        'NORTH': 40,\n        'EAST': 37,\n        'SOUTH': 38\n    };\n\n    var updateHeadByDirection = {\n        NORTH: {\n            y: -1 * SEGMENT_SIZE,\n            x: 0\n        },\n        SOUTH: {\n            y: SEGMENT_SIZE,\n            x: 0\n        },\n        EAST: {\n            y: 0,\n            x: SEGMENT_SIZE\n        },\n        WEST: {\n            y: 0,\n            x: -1 * SEGMENT_SIZE\n        }\n    };\n\n    var updateTailByDirection = {\n        NORTH: {\n            y: SEGMENT_SIZE,\n            x: 0\n        },\n        SOUTH: {\n            y: -1 * SEGMENT_SIZE,\n            x: 0\n        },\n        EAST: {\n            y: 0,\n            x: -1 * SEGMENT_SIZE\n        },\n        WEST: {\n            y: 0,\n            x: SEGMENT_SIZE\n        }\n    };\n\n    function validDirectionChange(keyCode, currentDirection) {\n        var direction = dirKeyLookup[keyCode];\n        if (currentDirection === direction) {\n            return false;\n        }\n        var unallowed = unallowedDirLookup[currentDirection];\n        return keyCode != unallowed;\n    }\n\n    function insideWorldBounds(keyCode, head) {\n        var direction = dirKeyLookup[keyCode];\n        var directionUpdate = updateHeadByDirection[direction];\n        var newX = head.x + directionUpdate.x;\n        var newY = head.y + directionUpdate.y;\n        return newX <= canvasWidth && newX >= 0 && newY <= canvasHeight && newY >= 0;\n    }\n\n    function updateSnakeFromDirection(snake, keycode) {\n        snake.head.colour = 'black';\n        snake.head.draw();\n        var curHeadX = snake.head.x;\n        var curHeadY = snake.head.y;\n        snake.tail.clear();\n        var newTail = snake.tail.next;\n        var newHead = snake.tail;\n        newHead.next = null;\n        snake.head.next = newHead;\n        snake.head = newHead;\n        snake.tail = newTail;\n        var direction = dirKeyLookup[keycode];\n        var dirctionUpdate = updateHeadByDirection[direction];\n        snake.head.x = curHeadX + dirctionUpdate.x;\n        snake.head.y = curHeadY + dirctionUpdate.y;\n        snake.head.colour = 'red';\n        snake.head.draw();\n        snake.currentDirection = direction;\n    }\n\n    function checkCollisions(snake) {\n        if (snake.head.equal(food.item)) {\n            snake.grow();\n            snake.grow();\n            food.setNewPosition();\n            updateScore();\n            return true;\n        }\n\n        if (snake.head.equal(snake.tail)) {\n            resetGame(snake);\n            return false;\n        }\n\n        var current = snake.tail;\n        while (current != snake.head) {\n            if (snake.head.equal(current)) {\n                resetGame(snake);\n                return false;\n            }\n            current = current.next;\n        }\n        return true;\n    }\n\n    document.addEventListener('keydown', function (event) {\n        if (event.keyCode === 81) {\n            gameRunning = false;\n        } else if (event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 38 || event.keyCode == 40) {\n            //LEFT\n            var validUpdate = validDirectionChange(event.keyCode, snake.currentDirection) && insideWorldBounds(event.keyCode, snake.head);\n            if (validUpdate) {\n                updateSnakeFromDirection(snake, event.keyCode);\n            }\n        }\n    });\n\n    /*\r\n                     (_)      \r\n      _ __ ___   __ _ _ _ __  \r\n     | '_ ` _ \\ / _` | | '_ \\ \r\n     | | | | | | (_| | | | | |\r\n     |_| |_| |_|\\__,_|_|_| |_|\r\n    */\n    var canvasEl = document.getElementById('main');\n    canvasEl.style.backgroundColor = 'rgba(158, 167, 184, 0.2)';\n    canvasEl.width = canvasWidth;\n    canvasEl.height = canvasHeight;\n    var ctx = canvasEl.getContext('2d');\n    var snake = new Snake({\n        x: canvasWidth / 2,\n        y: canvasHeight / 2,\n        ctx: ctx\n    });\n\n    var food = new Food(ctx);\n\n    var lastFrameTimeMs = 0; // The last time the loop was run\n    var maxFPS = 31; // The maximum FPS we want to allow\n    snake.currentDirection = 'EAST';\n    snake.drawAll();\n    var currentScore = -1;\n\n    function updateScore(value) {\n        document.getElementById(\"score\").textContent = \"SCORE: \" + ++currentScore;\n    }\n\n    updateScore();\n\n    function resetGame(snake) {\n        snake.clearAll();\n        snake.reset();\n        food.clear();\n        food.setNewPosition();\n        currentScore = -1;\n        updateScore();\n    }\n\n    function update() {\n        var keyCode = reverseDirKeyLookup[snake.currentDirection];\n        var insideWorld = insideWorldBounds(keyCode, snake.head);\n        if (insideWorld) {\n            var check = checkCollisions(snake);\n            if (check) {\n                updateSnakeFromDirection(snake, keyCode);\n            }\n            checkCollisions(snake);\n        } else {\n            resetGame(snake);\n        }\n    }\n\n    function draw() {\n        food.draw();\n        snake.drawAll();\n    }\n\n    function gameLoop(timeStamp) {\n        if (gameRunning) {\n            if (timeStamp < lastFrameTimeMs + 1000 / maxFPS) {\n                requestAnimationFrame(gameLoop);\n                return;\n            }\n            lastFrameTimeMs = timeStamp;\n            update();\n            draw();\n            requestAnimationFrame(gameLoop);\n        }\n    }\n    requestAnimationFrame(gameLoop);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAuanM/ZDhlZSJdLCJuYW1lcyI6WyJHYW1lT2JqZWN0cyIsInJlcXVpcmUiLCJTbmFrZSIsIlNuYWtlU2VnbWVudCIsIkZvb2QiLCJ3aW5kb3ciLCJvbmxvYWQiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsIlNFR01FTlRfU0laRSIsIkZQUyIsImdhbWVMb29wIiwiZ2FtZVJ1bm5pbmciLCJkaXJLZXlMb29rdXAiLCJyZXZlcnNlRGlyS2V5TG9va3VwIiwiV0VTVCIsIk5PUlRIIiwiRUFTVCIsIlNPVVRIIiwidW5hbGxvd2VkRGlyTG9va3VwIiwidXBkYXRlSGVhZEJ5RGlyZWN0aW9uIiwieSIsIngiLCJ1cGRhdGVUYWlsQnlEaXJlY3Rpb24iLCJ2YWxpZERpcmVjdGlvbkNoYW5nZSIsImtleUNvZGUiLCJjdXJyZW50RGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwidW5hbGxvd2VkIiwiaW5zaWRlV29ybGRCb3VuZHMiLCJoZWFkIiwiZGlyZWN0aW9uVXBkYXRlIiwibmV3WCIsIm5ld1kiLCJ1cGRhdGVTbmFrZUZyb21EaXJlY3Rpb24iLCJzbmFrZSIsImtleWNvZGUiLCJjb2xvdXIiLCJkcmF3IiwiY3VySGVhZFgiLCJjdXJIZWFkWSIsInRhaWwiLCJjbGVhciIsIm5ld1RhaWwiLCJuZXh0IiwibmV3SGVhZCIsImRpcmN0aW9uVXBkYXRlIiwiY2hlY2tDb2xsaXNpb25zIiwiZXF1YWwiLCJmb29kIiwiaXRlbSIsImdyb3ciLCJzZXROZXdQb3NpdGlvbiIsInVwZGF0ZVNjb3JlIiwicmVzZXRHYW1lIiwiY3VycmVudCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidmFsaWRVcGRhdGUiLCJjYW52YXNFbCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ3aWR0aCIsImhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJsYXN0RnJhbWVUaW1lTXMiLCJtYXhGUFMiLCJkcmF3QWxsIiwiY3VycmVudFNjb3JlIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsImNsZWFyQWxsIiwicmVzZXQiLCJ1cGRhdGUiLCJpbnNpZGVXb3JsZCIsImNoZWNrIiwidGltZVN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxjQUFjLG1CQUFBQyxDQUFRLENBQVIsQ0FBbEI7QUFDQSxJQUFJQyxRQUFRRixZQUFZRSxLQUF4QjtBQUNBLElBQUlDLGVBQWVILFlBQVlHLFlBQS9CO0FBQ0EsSUFBSUMsT0FBT0osWUFBWUksSUFBdkI7O0FBRUFDLE9BQU9DLE1BQVAsR0FBZ0IsWUFBVztBQUN2QixVQUFNQyxjQUFjLElBQXBCO0FBQ0EsVUFBTUMsZUFBZSxHQUFyQjtBQUNBLFFBQUlDLGVBQWUsRUFBbkI7QUFDQSxRQUFJQyxNQUFNLEVBQVY7QUFDQSxRQUFJQyxRQUFKO0FBQ0EsUUFBSUMsY0FBYyxJQUFsQjs7QUFFQSxRQUFJQyxlQUFlO0FBQ2YsWUFBSSxNQURXO0FBRWYsWUFBSSxPQUZXO0FBR2YsWUFBSSxNQUhXO0FBSWYsWUFBSTtBQUpXLEtBQW5COztBQU9DLFFBQUlDLHNCQUFzQjtBQUN2QkMsY0FBTSxFQURpQjtBQUV2QkMsZUFBTyxFQUZnQjtBQUd2QkMsY0FBTSxFQUhpQjtBQUl2QkMsZUFBTztBQUpnQixLQUExQjs7QUFPRCxRQUFJQyxxQkFBcUI7QUFDckIsZ0JBQVEsRUFEYTtBQUVyQixpQkFBUyxFQUZZO0FBR3JCLGdCQUFRLEVBSGE7QUFJckIsaUJBQVM7QUFKWSxLQUF6Qjs7QUFPQSxRQUFJQyx3QkFBd0I7QUFDeEJKLGVBQU87QUFDSEssZUFBRyxDQUFDLENBQUQsR0FBS1osWUFETDtBQUVIYSxlQUFHO0FBRkEsU0FEaUI7QUFLeEJKLGVBQU87QUFDSEcsZUFBR1osWUFEQTtBQUVIYSxlQUFHO0FBRkEsU0FMaUI7QUFTeEJMLGNBQU07QUFDRkksZUFBRyxDQUREO0FBRUZDLGVBQUdiO0FBRkQsU0FUa0I7QUFheEJNLGNBQU07QUFD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VW5CLEtBQVY7QUFDSDtBQUNKOztBQUVELGFBQVNHLElBQVQsR0FBZ0I7QUFDWlcsYUFBS1gsSUFBTDtBQUNBSCxjQUFNbUMsT0FBTjtBQUNIOztBQUVELGFBQVMzRCxRQUFULENBQWtCb0UsU0FBbEIsRUFBNkI7QUFDeEIsWUFBR25FLFdBQUgsRUFBZ0I7QUFDYixnQkFBR21FLFlBQVlYLGtCQUFtQixPQUFPQyxNQUF6QyxFQUFrRDtBQUM5Q1csc0NBQXNCckUsUUFBdEI7QUFDQTtBQUNIO0FBQ0R5RCw4QkFBa0JXLFNBQWxCO0FBQ0FIO0FBQ0F0QztBQUNBMEMsa0NBQXNCckUsUUFBdEI7QUFDSDtBQUNKO0FBQ0RxRSwwQkFBc0JyRSxRQUF0QjtBQUNILENBek5EIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgR2FtZU9iamVjdHMgPSByZXF1aXJlKFwiLi9zY3JpcHRzL3NuYWtlLmpzXCIpO1xyXG52YXIgU25ha2UgPSBHYW1lT2JqZWN0cy5TbmFrZTtcclxudmFyIFNuYWtlU2VnbWVudCA9IEdhbWVPYmplY3RzLlNuYWtlU2VnbWVudDtcclxudmFyIEZvb2QgPSBHYW1lT2JqZWN0cy5Gb29kO1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSAxNTIwO1xyXG4gICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gOTIwO1xyXG4gICAgdmFyIFNFR01FTlRfU0laRSA9IDIwXHJcbiAgICB2YXIgRlBTID0gNjA7XHJcbiAgICB2YXIgZ2FtZUxvb3A7XHJcbiAgICB2YXIgZ2FtZVJ1bm5pbmcgPSB0cnVlO1xyXG5cclxuICAgIHZhciBkaXJLZXlMb29rdXAgPSB7XHJcbiAgICAgICAgMzc6ICdXRVNUJyxcclxuICAgICAgICAzODogJ05PUlRIJyxcclxuICAgICAgICAzOTogJ0VBU1QnLFxyXG4gICAgICAgIDQwOiAnU09VVEgnXHJcbiAgICB9O1xyXG5cclxuICAgICB2YXIgcmV2ZXJzZURpcktleUxvb2t1cCA9IHtcclxuICAgICAgICBXRVNUOiAzNyxcclxuICAgICAgICBOT1JUSDogMzgsXHJcbiAgICAgICAgRUFTVDogMzksXHJcbiAgICAgICAgU09VVEg6IDQwXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB1bmFsbG93ZWREaXJMb29rdXAgPSB7XHJcbiAgICAgICAgJ1dFU1QnOiAzOSxcclxuICAgICAgICAnTk9SVEgnOiA0MCxcclxuICAgICAgICAnRUFTVCc6IDM3LFxyXG4gICAgICAgICdTT1VUSCc6IDM4XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB1cGRhdGVIZWFkQnlEaXJlY3Rpb24gPSB7XHJcbiAgICAgICAgTk9SVEg6IHtcclxuICAgICAgICAgICAgeTogLTEgKiBTRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHg6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFNPVVRIOiB7XHJcbiAgICAgICAgICAgIHk6IFNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgeDogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgRUFTVDoge1xyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB4OiBTRUdNRU5UX1NJWkVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFdFU1Q6IHtcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDogLTEgKiBTRUdNRU5UX1NJWkVcclxuICAgICAgICB9LCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdXBkYXRlVGFpbEJ5RGlyZWN0aW9uID0ge1xyXG4gICAgICAgIE5PUlRIOiB7XHJcbiAgICAgICAgICAgIHk6IFNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgeDogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgU09VVEg6IHtcclxuICAgICAgICAgICAgeTogLTEgKiBTRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHg6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIEVBU1Q6IHtcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDogLTEgKiBTRUdNRU5UX1NJWkVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFdFU1Q6IHtcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDogU0VHTUVOVF9TSVpFXHJcbiAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsaWREaXJlY3Rpb25DaGFuZ2Uoa2V5Q29kZSwgY3VycmVudERpcmVjdGlvbikge1xyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJLZXlMb29rdXBba2V5Q29kZV07XHJcbiAgICAgICAgaWYoY3VycmVudERpcmVjdGlvbiA9PT0gZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuYWxsb3dlZCA9IHVuYWxsb3dlZERpckxvb2t1cFtjdXJyZW50RGlyZWN0aW9uXVxyXG4gICAgICAgIHJldHVybiBrZXlDb2RlICE9IHVuYWxsb3dlZDtcclxuICAgIH0gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gaW5zaWRlV29ybGRCb3VuZHMoa2V5Q29kZSwgaGVhZCkge1xyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJLZXlMb29rdXBba2V5Q29kZV07XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvblVwZGF0ZSA9IHVwZGF0ZUhlYWRCeURpcmVjdGlvbltkaXJlY3Rpb25dO1xyXG4gICAgICAgIHZhciBuZXdYID0gaGVhZC54ICsgZGlyZWN0aW9uVXBkYXRlLng7XHJcbiAgICAgICAgdmFyIG5ld1kgPSBoZWFkLnkgKyBkaXJlY3Rpb25VcGRhdGUueTtcclxuICAgICAgICByZXR1cm4gbmV3WCA8PSBjYW52YXNXaWR0aCAmJiAgbmV3WCA+PSAwICYmIG5ld1kgPD0gY2FudmFzSGVpZ2h0ICYmIG5ld1kgPj0gMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVTbmFrZUZyb21EaXJlY3Rpb24oc25ha2UsIGtleWNvZGUpIHtcclxuICAgICAgICBzbmFrZS5oZWFkLmNvbG91ciA9ICdibGFjayc7XHJcbiAgICAgICAgc25ha2UuaGVhZC5kcmF3KCk7XHJcbiAgICAgICAgdmFyIGN1ckhlYWRYID0gc25ha2UuaGVhZC54O1xyXG4gICAgICAgIHZhciBjdXJIZWFkWSA9IHNuYWtlLmhlYWQueTtcclxuICAgICAgICBzbmFrZS50YWlsLmNsZWFyKCk7XHJcbiAgICAgICAgdmFyIG5ld1RhaWwgPSBzbmFrZS50YWlsLm5leHQ7XHJcbiAgICAgICAgdmFyIG5ld0hlYWQgPSBzbmFrZS50YWlsXHJcbiAgICAgICAgbmV3SGVhZC5uZXh0ID0gbnVsbDtcclxuICAgICAgICBzbmFrZS5oZWFkLm5leHQgPSBuZXdIZWFkO1xyXG4gICAgICAgIHNuYWtlLmhlYWQgPSBuZXdIZWFkO1xyXG4gICAgICAgIHNuYWtlLnRhaWwgPSBuZXdUYWlsO1xyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJLZXlMb29rdXBba2V5Y29kZV07XHJcbiAgICAgICAgdmFyIGRpcmN0aW9uVXBkYXRlID0gdXBkYXRlSGVhZEJ5RGlyZWN0aW9uW2RpcmVjdGlvbl07XHJcbiAgICAgICAgc25ha2UuaGVhZC54ID0gY3VySGVhZFggKyBkaXJjdGlvblVwZGF0ZS54O1xyXG4gICAgICAgIHNuYWtlLmhlYWQueSA9IGN1ckhlYWRZICsgZGlyY3Rpb25VcGRhdGUueTtcclxuICAgICAgICBzbmFrZS5oZWFkLmNvbG91ciA9ICdyZWQnO1xyXG4gICAgICAgIHNuYWtlLmhlYWQuZHJhdygpO1xyXG4gICAgICAgIHNuYWtlLmN1cnJlbnREaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tDb2xsaXNpb25zKHNuYWtlKSB7XHJcbiAgICAgICAgaWYoc25ha2UuaGVhZC5lcXVhbChmb29kLml0ZW0pKSB7XHJcbiAgICAgICAgICAgIHNuYWtlLmdyb3coKTtcclxuICAgICAgICAgICAgc25ha2UuZ3JvdygpO1xyXG4gICAgICAgICAgICBmb29kLnNldE5ld1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVNjb3JlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmKHNuYWtlLmhlYWQuZXF1YWwoc25ha2UudGFpbCkpIHtcclxuICAgICAgICAgICAgcmVzZXRHYW1lKHNuYWtlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzbmFrZS50YWlsO1xyXG4gICAgICAgIHdoaWxlKGN1cnJlbnQgIT0gc25ha2UuaGVhZCkge1xyXG4gICAgICAgICAgICBpZihzbmFrZS5oZWFkLmVxdWFsKGN1cnJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXNldEdhbWUoc25ha2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGlmKGV2ZW50LmtleUNvZGUgPT09IDgxKSB7XHJcbiAgICAgICAgICAgIGdhbWVSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmKGV2ZW50LmtleUNvZGUgPT0gMzcgfHwgZXZlbnQua2V5Q29kZSA9PSAzOSB8fCBldmVudC5rZXlDb2RlID09IDM4IHx8IGV2ZW50LmtleUNvZGUgPT0gNDApIHsgLy9MRUZUXHJcbiAgICAgICAgICAgIHZhciB2YWxpZFVwZGF0ZSA9IHZhbGlkRGlyZWN0aW9uQ2hhbmdlKGV2ZW50LmtleUNvZGUsIHNuYWtlLmN1cnJlbnREaXJlY3Rpb24pICYmIGluc2lkZVdvcmxkQm91bmRzKGV2ZW50LmtleUNvZGUsIHNuYWtlLmhlYWQpO1xyXG4gICAgICAgICAgICBpZih2YWxpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU25ha2VGcm9tRGlyZWN0aW9uKHNuYWtlLCBldmVudC5rZXlDb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4vKlxyXG4gICAgICAgICAgICAgICAgIChfKSAgICAgIFxyXG4gIF8gX18gX19fICAgX18gXyBfIF8gX18gIFxyXG4gfCAnXyBgIF8gXFwgLyBfYCB8IHwgJ18gXFwgXHJcbiB8IHwgfCB8IHwgfCAoX3wgfCB8IHwgfCB8XHJcbiB8X3wgfF98IHxffFxcX18sX3xffF98IHxffFxyXG4qL1xyXG4gICAgdmFyIGNhbnZhc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIGNhbnZhc0VsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDE1OCwgMTY3LCAxODQsIDAuMiknO1xyXG4gICAgY2FudmFzRWwud2lkdGggPSBjYW52YXNXaWR0aDtcclxuICAgIGNhbnZhc0VsLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgIHZhciBjdHggPSBjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgdmFyIHNuYWtlID0gbmV3IFNuYWtlKHtcclxuICAgICAgICB4OiBjYW52YXNXaWR0aC8yLFxyXG4gICAgICAgIHk6IGNhbnZhc0hlaWdodC8yLFxyXG4gICAgICAgIGN0eDogY3R4XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgZm9vZCA9IG5ldyBGb29kKGN0eCk7XHJcblxyXG4gICAgdmFyIGxhc3RGcmFtZVRpbWVNcyA9IDAgLy8gVGhlIGxhc3QgdGltZSB0aGUgbG9vcCB3YXMgcnVuXHJcbiAgICB2YXIgbWF4RlBTID0gMzE7IC8vIFRoZSBtYXhpbXVtIEZQUyB3ZSB3YW50IHRvIGFsbG93XHJcbiAgICBzbmFrZS5jdXJyZW50RGlyZWN0aW9uID0gJ0VBU1QnO1xyXG4gICAgc25ha2UuZHJhd0FsbCgpO1xyXG4gICAgdmFyIGN1cnJlbnRTY29yZSA9IC0xO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVTY29yZSh2YWx1ZSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVcIikudGV4dENvbnRlbnQgPSBcIlNDT1JFOiBcIiArICsrY3VycmVudFNjb3JlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVNjb3JlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXRHYW1lKHNuYWtlKSB7XHJcbiAgICAgICAgc25ha2UuY2xlYXJBbGwoKTtcclxuICAgICAgICBzbmFrZS5yZXNldCgpO1xyXG4gICAgICAgIGZvb2QuY2xlYXIoKTtcclxuICAgICAgICBmb29kLnNldE5ld1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgY3VycmVudFNjb3JlID0gLTE7XHJcbiAgICAgICAgdXBkYXRlU2NvcmUoKTsgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICB2YXIga2V5Q29kZSA9IHJldmVyc2VEaXJLZXlMb29rdXBbc25ha2UuY3VycmVudERpcmVjdGlvbl07XHJcbiAgICAgICAgdmFyIGluc2lkZVdvcmxkID0gaW5zaWRlV29ybGRCb3VuZHMoa2V5Q29kZSwgc25ha2UuaGVhZCk7XHJcbiAgICAgICAgaWYoaW5zaWRlV29ybGQpIHtcclxuICAgICAgICAgICAgdmFyIGNoZWNrID0gY2hlY2tDb2xsaXNpb25zKHNuYWtlKTtcclxuICAgICAgICAgICAgaWYoY2hlY2spIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVNuYWtlRnJvbURpcmVjdGlvbihzbmFrZSwga2V5Q29kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2tDb2xsaXNpb25zKHNuYWtlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXNldEdhbWUoc25ha2UpOyAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgICAgIGZvb2QuZHJhdygpO1xyXG4gICAgICAgIHNuYWtlLmRyYXdBbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnYW1lTG9vcCh0aW1lU3RhbXApIHtcclxuICAgICAgICAgaWYoZ2FtZVJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgaWYodGltZVN0YW1wIDwgbGFzdEZyYW1lVGltZU1zICsgKDEwMDAgLyBtYXhGUFMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhc3RGcmFtZVRpbWVNcyA9IHRpbWVTdGFtcDtcclxuICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGRyYXcoKTtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("function Snake(options) {\n    var me = this;\n    me.x = options.x || 0;\n    me.y = options.y || 0;\n\n    me.ctx = options.ctx;\n    me.currentDirection = 'EAST';\n\n    me.reset();\n}\n\nSnake.prototype.reset = function reset() {\n    var me = this;\n\n    me.head = null;\n    me.tail = null;\n\n    var tail = new SnakeSegment({\n        x: me.x,\n        y: me.y,\n        ctx: me.ctx\n    });\n    var body = new SnakeSegment({\n        x: tail.x + SEGMENT_SIZE,\n        y: tail.y,\n        ctx: me.ctx\n    });\n    var head = new SnakeSegment({\n        x: body.x + SEGMENT_SIZE,\n        y: body.y,\n        colour: 'red',\n        ctx: me.ctx\n    });\n\n    tail.next = body;\n    body.next = head;\n    head.next = null;\n\n    me.head = head;\n    me.tail = tail;\n};\n\nSnake.prototype.drawAll = function drawAll() {\n    var me = this;\n    var segment = me.tail;\n    segment.draw();\n    while (segment.next) {\n        segment = segment.next;\n        segment.draw();\n    }\n};\n\nSnake.prototype.clearAll = function clearAll() {\n    var me = this;\n    var segment = me.tail;\n    segment.clear();\n    while (segment.next) {\n        segment = segment.next;\n        segment.clear();\n    }\n};\n\nSnake.prototype.grow = function grow() {\n    var me = this;\n    var directionUpdate = updateTailByDirection[me.currentDirection];\n\n    var newTail = new SnakeSegment({\n        x: me.tail.x + directionUpdate.x,\n        y: me.tail.y + directionUpdate.y,\n        ctx: me.ctx\n    });\n    newTail.next = me.tail;\n    me.tail = newTail;\n};\n\nfunction SnakeSegment(options) {\n    var me = this;\n\n    me.width = SEGMENT_SIZE;\n    me.height = SEGMENT_SIZE;\n    me.colour = options.colour || \"black\";\n    me.next = options.next || null;\n    me.prev = options.prev || null;\n    me.x = options.x;\n    me.y = options.y;\n    me.ctx = options.ctx;\n}\n\nSnakeSegment.prototype.updatePos = function updatePos(x, y) {\n    this.x = x;\n    this.y = y;\n};\n\nSnakeSegment.prototype.draw = function draw() {\n    var me = this;\n    me.ctx.fillStyle = me.colour;\n    me.ctx.fillRect(me.x, me.y, me.width, me.height);\n};\n\nSnakeSegment.prototype.clear = function clear() {\n    var me = this;\n    me.ctx.clearRect(me.x, me.y, me.width, me.height);\n};\n\nSnakeSegment.prototype.equal = function (otherSegment) {\n    var me = this;\n    if (me.x == otherSegment.x && me.y == otherSegment.y) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\nfunction Food(ctx) {\n    var me = this;\n    me.allFoodPositionsLookup = [];\n    var i, j;\n    for (i = 0; i < canvasWidth; i += SEGMENT_SIZE) {\n        for (j = 0; j < canvasHeight; j += SEGMENT_SIZE) {\n            me.allFoodPositionsLookup.push({ x: i, y: j });\n        }\n    }\n    var startPosition = me.getRandXY();\n    me.item = new SnakeSegment({\n        ctx: ctx,\n        x: startPosition.x,\n        y: startPosition.y,\n        colour: 'green'\n    });\n}\n\nFood.prototype.getRandXY = function getRandXY() {\n    function getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n    var me = this;\n    var min = 0;\n    var max = me.allFoodPositionsLookup.length;\n\n    return me.allFoodPositionsLookup[getRandomInt(min, max)];\n};\n\nFood.prototype.setNewPosition = function setNewPosition() {\n    var me = this;\n    var pos = me.getRandXY();\n    me.item.x = pos.x;\n    me.item.y = pos.y;\n};\n\nFood.prototype.draw = function draw() {\n    this.item.draw();\n};\n\nFood.prototype.clear = function clear() {\n    this.item.clear();\n};\n\nexports = {\n    Food: Food,\n    Snake: Snake,\n    SnakeSegment: SnakeSegment\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3NuYWtlLmpzP2FlZTMiXSwibmFtZXMiOlsiU25ha2UiLCJvcHRpb25zIiwibWUiLCJ4IiwieSIsImN0eCIsImN1cnJlbnREaXJlY3Rpb24iLCJyZXNldCIsInByb3RvdHlwZSIsImhlYWQiLCJ0YWlsIiwiU25ha2VTZWdtZW50IiwiYm9keSIsIlNFR01FTlRfU0laRSIsImNvbG91ciIsIm5leHQiLCJkcmF3QWxsIiwic2VnbWVudCIsImRyYXciLCJjbGVhckFsbCIsImNsZWFyIiwiZ3JvdyIsImRpcmVjdGlvblVwZGF0ZSIsInVwZGF0ZVRhaWxCeURpcmVjdGlvbiIsIm5ld1RhaWwiLCJ3aWR0aCIsImhlaWdodCIsInByZXYiLCJ1cGRhdGVQb3MiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNsZWFyUmVjdCIsImVxdWFsIiwib3RoZXJTZWdtZW50IiwiRm9vZCIsImFsbEZvb2RQb3NpdGlvbnNMb29rdXAiLCJpIiwiaiIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwicHVzaCIsInN0YXJ0UG9zaXRpb24iLCJnZXRSYW5kWFkiLCJpdGVtIiwiZ2V0UmFuZG9tSW50IiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwic2V0TmV3UG9zaXRpb24iLCJwb3MiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxLQUFULENBQWVDLE9BQWYsRUFBd0I7QUFDcEIsUUFBSUMsS0FBSyxJQUFUO0FBQ0FBLE9BQUdDLENBQUgsR0FBT0YsUUFBUUUsQ0FBUixJQUFhLENBQXBCO0FBQ0FELE9BQUdFLENBQUgsR0FBT0gsUUFBUUcsQ0FBUixJQUFhLENBQXBCOztBQUVBRixPQUFHRyxHQUFILEdBQVNKLFFBQVFJLEdBQWpCO0FBQ0FILE9BQUdJLGdCQUFILEdBQXNCLE1BQXRCOztBQUVBSixPQUFHSyxLQUFIO0FBQ0g7O0FBRURQLE1BQU1RLFNBQU4sQ0FBZ0JELEtBQWhCLEdBQXdC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a0QsTUFBTWxELEdBQUd3QyxTQUFILEVBQVY7QUFDQXhDLE9BQUd5QyxJQUFILENBQVF4QyxDQUFSLEdBQVlpRCxJQUFJakQsQ0FBaEI7QUFDQUQsT0FBR3lDLElBQUgsQ0FBUXZDLENBQVIsR0FBWWdELElBQUloRCxDQUFoQjtBQUNILENBTEQ7O0FBT0E4QixLQUFLMUIsU0FBTCxDQUFlVSxJQUFmLEdBQXNCLFNBQVNBLElBQVQsR0FBZ0I7QUFDbEMsU0FBS3lCLElBQUwsQ0FBVXpCLElBQVY7QUFDSCxDQUZEOztBQUlBZ0IsS0FBSzFCLFNBQUwsQ0FBZVksS0FBZixHQUF1QixTQUFTQSxLQUFULEdBQWlCO0FBQ3BDLFNBQUt1QixJQUFMLENBQVV2QixLQUFWO0FBQ0gsQ0FGRDs7QUFJQWlDLFVBQVU7QUFDTm5CLFVBQU1BLElBREE7QUFFTmxDLFdBQU9BLEtBRkQ7QUFHTlcsa0JBQWNBO0FBSFIsQ0FBViIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gU25ha2Uob3B0aW9ucykge1xyXG4gICAgdmFyIG1lID0gdGhpczsgICBcclxuICAgIG1lLnggPSBvcHRpb25zLnggfHwgMDtcclxuICAgIG1lLnkgPSBvcHRpb25zLnkgfHwgMDtcclxuXHJcbiAgICBtZS5jdHggPSBvcHRpb25zLmN0eDtcclxuICAgIG1lLmN1cnJlbnREaXJlY3Rpb24gPSAnRUFTVCc7XHJcblxyXG4gICAgbWUucmVzZXQoKTtcclxufVxyXG5cclxuU25ha2UucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgXHJcbiAgICBtZS5oZWFkID0gbnVsbDtcclxuICAgIG1lLnRhaWwgPSBudWxsO1xyXG5cclxuICAgIHZhciB0YWlsID0gbmV3IFNuYWtlU2VnbWVudCh7XHJcbiAgICAgICAgeDogbWUueCxcclxuICAgICAgICB5OiBtZS55LFxyXG4gICAgICAgIGN0eDogbWUuY3R4XHJcbiAgICB9KTtcclxuICAgIHZhciBib2R5ID0gbmV3IFNuYWtlU2VnbWVudCh7XHJcbiAgICAgICAgeDogdGFpbC54ICsgU0VHTUVOVF9TSVpFLFxyXG4gICAgICAgIHk6IHRhaWwueSxcclxuICAgICAgICBjdHg6IG1lLmN0eFxyXG4gICAgfSk7XHJcbiAgICB2YXIgaGVhZCA9IG5ldyBTbmFrZVNlZ21lbnQoe1xyXG4gICAgICAgIHg6IGJvZHkueCArIFNFR01FTlRfU0laRSxcclxuICAgICAgICB5OiBib2R5LnksXHJcbiAgICAgICAgY29sb3VyOiAncmVkJyxcclxuICAgICAgICBjdHg6IG1lLmN0eFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGFpbC5uZXh0ID0gYm9keTtcclxuICAgIGJvZHkubmV4dCA9IGhlYWQ7XHJcbiAgICBoZWFkLm5leHQgPSBudWxsO1xyXG5cclxuICAgIG1lLmhlYWQgPSBoZWFkO1xyXG4gICAgbWUudGFpbCA9IHRhaWw7XHJcbn07XHJcblxyXG5TbmFrZS5wcm90b3R5cGUuZHJhd0FsbCA9IGZ1bmN0aW9uIGRyYXdBbGwoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgdmFyIHNlZ21lbnQgPSBtZS50YWlsO1xyXG4gICAgc2VnbWVudC5kcmF3KCk7XHJcbiAgICB3aGlsZShzZWdtZW50Lm5leHQpIHtcclxuICAgICAgICBzZWdtZW50ID0gc2VnbWVudC5uZXh0O1xyXG4gICAgICAgIHNlZ21lbnQuZHJhdygpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU25ha2UucHJvdG90eXBlLmNsZWFyQWxsID0gZnVuY3Rpb24gY2xlYXJBbGwoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgdmFyIHNlZ21lbnQgPSBtZS50YWlsO1xyXG4gICAgc2VnbWVudC5jbGVhcigpO1xyXG4gICAgd2hpbGUoc2VnbWVudC5uZXh0KSB7XHJcbiAgICAgICAgc2VnbWVudCA9IHNlZ21lbnQubmV4dDtcclxuICAgICAgICBzZWdtZW50LmNsZWFyKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TbmFrZS5wcm90b3R5cGUuZ3JvdyA9IGZ1bmN0aW9uIGdyb3coKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgdmFyIGRpcmVjdGlvblVwZGF0ZSA9IHVwZGF0ZVRhaWxCeURpcmVjdGlvblttZS5jdXJyZW50RGlyZWN0aW9uXTtcclxuXHJcbiAgICB2YXIgbmV3VGFpbCA9IG5ldyBTbmFrZVNlZ21lbnQoe1xyXG4gICAgICAgIHg6IG1lLnRhaWwueCArIGRpcmVjdGlvblVwZGF0ZS54LFxyXG4gICAgICAgIHk6IG1lLnRhaWwueSArIGRpcmVjdGlvblVwZGF0ZS55LFxyXG4gICAgICAgIGN0eDogbWUuY3R4XHJcbiAgICB9KTtcclxuICAgIG5ld1RhaWwubmV4dCA9IG1lLnRhaWw7XHJcbiAgICBtZS50YWlsID0gbmV3VGFpbDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIFNuYWtlU2VnbWVudChvcHRpb25zKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG5cclxuICAgIG1lLndpZHRoID0gU0VHTUVOVF9TSVpFO1xyXG4gICAgbWUuaGVpZ2h0ID0gU0VHTUVOVF9TSVpFO1xyXG4gICAgbWUuY29sb3VyID0gb3B0aW9ucy5jb2xvdXIgfHwgXCJibGFja1wiO1xyXG4gICAgbWUubmV4dCA9IG9wdGlvbnMubmV4dCB8fCBudWxsO1xyXG4gICAgbWUucHJldiA9IG9wdGlvbnMucHJldiB8fCBudWxsO1xyXG4gICAgbWUueCA9IG9wdGlvbnMueDtcclxuICAgIG1lLnkgPSBvcHRpb25zLnk7XHJcbiAgICBtZS5jdHggPSBvcHRpb25zLmN0eDtcclxufVxyXG5cclxuU25ha2VTZWdtZW50LnByb3RvdHlwZS51cGRhdGVQb3MgPSBmdW5jdGlvbiB1cGRhdGVQb3MoeCwgeSkge1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbn07ICBcclxuXHJcblNuYWtlU2VnbWVudC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIGRyYXcoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgbWUuY3R4LmZpbGxTdHlsZSA9IG1lLmNvbG91cjtcclxuICAgIG1lLmN0eC5maWxsUmVjdChtZS54LCBtZS55LCBtZS53aWR0aCwgbWUuaGVpZ2h0KTtcclxufTtcclxuXHJcblNuYWtlU2VnbWVudC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICBtZS5jdHguY2xlYXJSZWN0KG1lLngsIG1lLnksIG1lLndpZHRoLCBtZS5oZWlnaHQpO1xyXG59O1xyXG5cclxuU25ha2VTZWdtZW50LnByb3RvdHlwZS5lcXVhbCA9IGZ1bmN0aW9uKG90aGVyU2VnbWVudCkge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIGlmKG1lLnggPT0gb3RoZXJTZWdtZW50LnggJiYgbWUueSA9PSBvdGhlclNlZ21lbnQueSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBGb29kKGN0eCkge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIG1lLmFsbEZvb2RQb3NpdGlvbnNMb29rdXAgPSBbXTtcclxuICAgIHZhciBpLGo7XHJcbiAgICBmb3IoaSA9IDAgOyBpIDwgY2FudmFzV2lkdGggOyBpICs9IFNFR01FTlRfU0laRSkge1xyXG4gICAgICAgIGZvcihqID0gMDsgaiA8IGNhbnZhc0hlaWdodCA7IGogKz0gU0VHTUVOVF9TSVpFKSB7XHJcbiAgICAgICAgICAgIG1lLmFsbEZvb2RQb3NpdGlvbnNMb29rdXAucHVzaCh7IHg6IGksIHk6IGogfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHN0YXJ0UG9zaXRpb24gPSBtZS5nZXRSYW5kWFkoKTtcclxuICAgIG1lLml0ZW0gPSBuZXcgU25ha2VTZWdtZW50KHtcclxuICAgICAgICBjdHg6IGN0eCxcclxuICAgICAgICB4OiBzdGFydFBvc2l0aW9uLngsXHJcbiAgICAgICAgeTogc3RhcnRQb3NpdGlvbi55LFxyXG4gICAgICAgIGNvbG91cjogJ2dyZWVuJ1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbkZvb2QucHJvdG90eXBlLmdldFJhbmRYWSA9IGZ1bmN0aW9uIGdldFJhbmRYWSgpIHtcclxuICAgIGZ1bmN0aW9uIGdldFJhbmRvbUludChtaW4sIG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICB2YXIgbWluID0gMDtcclxuICAgIHZhciBtYXggPSBtZS5hbGxGb29kUG9zaXRpb25zTG9va3VwLmxlbmd0aDtcclxuICAgIFxyXG4gICAgcmV0dXJuIG1lLmFsbEZvb2RQb3NpdGlvbnNMb29rdXBbZ2V0UmFuZG9tSW50KG1pbiwgbWF4KV07XHJcbn07XHJcblxyXG5Gb29kLnByb3RvdHlwZS5zZXROZXdQb3NpdGlvbiA9IGZ1bmN0aW9uIHNldE5ld1Bvc2l0aW9uKCkge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIHZhciBwb3MgPSBtZS5nZXRSYW5kWFkoKTtcclxuICAgIG1lLml0ZW0ueCA9IHBvcy54O1xyXG4gICAgbWUuaXRlbS55ID0gcG9zLnk7ICAgXHJcbn07XHJcblxyXG5Gb29kLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gZHJhdygpIHtcclxuICAgIHRoaXMuaXRlbS5kcmF3KCk7XHJcbn1cclxuXHJcbkZvb2QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICB0aGlzLml0ZW0uY2xlYXIoKTtcclxufVxyXG5cclxuZXhwb3J0cyA9IHtcclxuICAgIEZvb2Q6IEZvb2QsXHJcbiAgICBTbmFrZTogU25ha2UsXHJcbiAgICBTbmFrZVNlZ21lbnQ6IFNuYWtlU2VnbWVudFxyXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NjcmlwdHMvc25ha2UuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);