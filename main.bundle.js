/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("var GameObjects = __webpack_require__(1);\nvar Snake = GameObjects.Snake;\nvar Segment = GameObjects.Segment;\nvar Food = GameObjects.Food;\nvar Grid = GameObjects.Grid;\n\nwindow.onload = function () {\n    const canvasWidth = 1520;\n    const canvasHeight = 920;\n\n    var FPS = 60;\n    var gameLoop;\n    var gameRunning = true;\n\n    var dirKeyLookup = {\n        37: 'WEST',\n        38: 'NORTH',\n        39: 'EAST',\n        40: 'SOUTH'\n    };\n\n    var reverseDirKeyLookup = {\n        WEST: 37,\n        NORTH: 38,\n        EAST: 39,\n        SOUTH: 40\n    };\n\n    var unallowedDirLookup = {\n        'WEST': 39,\n        'NORTH': 40,\n        'EAST': 37,\n        'SOUTH': 38\n    };\n\n    var updateHeadByDirection = {\n        NORTH: {\n            y: -1 * Segment.SEGMENT_SIZE,\n            x: 0\n        },\n        SOUTH: {\n            y: Segment.SEGMENT_SIZE,\n            x: 0\n        },\n        EAST: {\n            y: 0,\n            x: Segment.SEGMENT_SIZE\n        },\n        WEST: {\n            y: 0,\n            x: -1 * Segment.SEGMENT_SIZE\n        }\n    };\n\n    var fringeSet = [];\n    var closedSet = [];\n    var nodePath = [];\n\n    function validDirectionChange(keyCode, currentDirection) {\n        var direction = dirKeyLookup[keyCode];\n        if (currentDirection === direction) {\n            return false;\n        }\n        var unallowed = unallowedDirLookup[currentDirection];\n        return keyCode != unallowed;\n    }\n\n    function insideWorldBounds(keyCode, head) {\n        var direction = dirKeyLookup[keyCode];\n        var directionUpdate = updateHeadByDirection[direction];\n        var newX = head.x + directionUpdate.x;\n        var newY = head.y + directionUpdate.y;\n        return newX <= canvasWidth && newX >= 0 && newY <= canvasHeight && newY >= 0;\n    }\n\n    function updateSnakeFromNode(node) {\n        snake.head.colour = 'black';\n        snake.head.draw();\n        var curHeadX = snake.head.x;\n        var curHeadY = snake.head.y;\n        snake.tail.clear();\n        var newTail = snake.tail.next;\n        var newHead = new Segment({\n            x: node.x,\n            y: node.y,\n            ctx: node.ctx,\n            type: \"snake\"\n        });\n\n        newHead.next = null;\n        snake.head.next = newHead;\n        snake.head = newHead;\n        snake.tail = newTail;\n        snake.head.colour = 'red';\n    }\n\n    function updateSnakeFromDirection(snake, keycode) {\n        snake.head.colour = 'black';\n        snake.head.draw();\n        var curHeadX = snake.head.x;\n        var curHeadY = snake.head.y;\n        snake.tail.clear();\n        var newTail = snake.tail.next;\n        var newHead = snake.tail;\n        newHead.next = null;\n        snake.head.next = newHead;\n        snake.head = newHead;\n        snake.tail = newTail;\n        var direction = dirKeyLookup[keycode];\n        var dirctionUpdate = updateHeadByDirection[direction];\n        snake.head.x = curHeadX + dirctionUpdate.x;\n        snake.head.y = curHeadY + dirctionUpdate.y;\n        snake.head.colour = 'red';\n        snake.head.draw();\n        snake.currentDirection = direction;\n    }\n\n    function checkCollisions(snake) {\n        if (snake.head.equal(food.item)) {\n            snake.grow();\n            food.setNewPosition();\n            updateScore();\n            return true;\n        }\n\n        // if(snake.head.equal(snake.tail)) {\n        //     resetGame(snake);\n        //     return false;\n        // }\n\n        // var current = snake.tail;\n        // while(current != snake.head) {\n        //     if(snake.head.equal(current)) {\n        //         resetGame(snake);\n        //         return false;\n        //     }\n        //     current = current.next;\n        // }\n        // return true;\n    }\n\n    function search() {\n        fringeSet.forEach(function (node) {\n            node.clear();\n        });\n\n        closedSet.forEach(function (node) {\n            node.colour = \"yellow\";\n            node.clear();\n        });\n        fringeSet = [];\n        closedSet = [];\n        fringeSet.push(snake.head);\n\n        var node = findRoute();\n        if (node.equal(food.item)) {\n            food.item.colour = \"pink\";\n            fringeSet.forEach(function (node) {\n                node.colour = \"orange\";\n                node.draw();\n            });\n\n            closedSet.forEach(function (node) {\n                node.colour = \"yellow\";\n                node.draw();\n            });\n\n            if (node) {\n                nodePath.unshift(node);\n                var curNode = node.parent;\n                while (curNode) {\n                    curNode.draw(\"blue\");\n                    nodePath.unshift(curNode);\n                    curNode = curNode.parent;\n                }\n            }\n        }\n    }\n\n    function addChildrenToFringeSet(parentNode) {\n\n        var northCoords = {\n            x: parentNode.x / Segment.SEGMENT_SIZE,\n            y: (parentNode.y - Segment.SEGMENT_SIZE) / Segment.SEGMENT_SIZE\n        };\n        var southCoords = {\n            x: parentNode.x / Segment.SEGMENT_SIZE,\n            y: (parentNode.y + Segment.SEGMENT_SIZE) / Segment.SEGMENT_SIZE\n        };\n        var westCoords = {\n            x: (parentNode.x - Segment.SEGMENT_SIZE) / Segment.SEGMENT_SIZE,\n            y: parentNode.y / Segment.SEGMENT_SIZE\n        };\n        var eastCoords = {\n            x: (parentNode.x + Segment.SEGMENT_SIZE) / Segment.SEGMENT_SIZE,\n            y: parentNode.y / Segment.SEGMENT_SIZE\n        };\n        var children = [];\n\n        if (parentNode.y - Segment.SEGMENT_SIZE >= 0) {\n            var cellToConsider = grid.cells[northCoords.x][northCoords.y];\n            if (cellToConsider && cellToConsider.type !== \"snake\") {\n                children.push(cellToConsider);\n            }\n        }\n        if (parentNode.y + Segment.SEGMENT_SIZE < canvasHeight) {\n            var cellToConsider = grid.cells[southCoords.x][southCoords.y];\n            if (cellToConsider && cellToConsider.type !== \"snake\") {\n                children.push(cellToConsider);\n            }\n        }\n        if (parentNode.x - Segment.SEGMENT_SIZE >= 0) {\n            var cellToConsider = grid.cells[westCoords.x][westCoords.y];\n            if (cellToConsider && cellToConsider.type !== \"snake\") {\n                children.push(cellToConsider);\n            }\n        }\n        if (parentNode.x + Segment.SEGMENT_SIZE < canvasWidth) {\n            var cellToConsider = grid.cells[eastCoords.x][eastCoords.y];\n            if (cellToConsider && cellToConsider.type !== \"snake\") {\n                children.push(cellToConsider);\n            }\n        }\n\n        children.forEach(function (child) {\n\n            var found = null;\n            var childIsInClosed = closedSet.some(function (item) {\n                return item.equal(child);\n            });\n            if (!childIsInClosed) {\n                child.d = parentNode.d + distanceFromNodeToNode(parentNode, child);\n                var L2 = distanceFromNodeToNode(child, food.item);\n                child.dPlusL2 = child.d + L2;\n                child.parent = parentNode;\n            }\n            fringeSet.push(child);\n        });\n\n        fringeSet.sort(function (a, b) {\n            return a.dPlusL2 > b.dPlusL2 ? 1 : -1;\n        });\n    }\n\n    //http://mnemstudio.org/path-finding-a-star.htm\n    function findRoute() {\n        if (fringeSet.length === 0) {\n            return 0;\n        } else {\n            var node = fringeSet.shift();\n            if (node.equal(food.item)) {\n                console.log(\"found\");\n                return node;\n            } else {\n                var found = null;\n                var nodeIsInClosed = closedSet.some(function (item) {\n                    return item.equal(node);\n                });\n                if (!nodeIsInClosed) {\n                    closedSet.push(node);\n                    addChildrenToFringeSet(node);\n                }\n                return findRoute();\n            }\n        }\n    }\n\n    function distanceFromNodeToNode(node1, node2) {\n        var node1X = node1.x;\n        var node1Y = node1.y;\n\n        var node2X = node2.x;\n        var node2Y = node2.y;\n\n        var dx = node2X - node1X;\n        var dy = node2Y - node1Y;\n        var distance = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n        return distance;\n    }\n\n    document.addEventListener('keydown', function (event) {\n        if (event.keyCode === 81) {\n            gameRunning = false;\n        } else if (event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 38 || event.keyCode == 40) {\n            //LEFT\n            var validUpdate = validDirectionChange(event.keyCode, snake.currentDirection) && insideWorldBounds(event.keyCode, snake.head);\n            if (validUpdate) {\n                updateSnakeFromDirection(snake, event.keyCode);\n            }\n        } else if (event.keyCode === 32) {\n            search();\n            var node = findRoute();\n            if (node.equal(food.item)) {\n                food.item.colour = \"pink\";\n                fringeSet.forEach(function (node) {\n                    node.colour = \"orange\";\n                    node.draw();\n                });\n\n                closedSet.forEach(function (node) {\n                    node.colour = \"yellow\";\n                    node.draw();\n                });\n\n                if (node) {\n                    nodePath.unshift(node);\n                    var curNode = node.parent;\n                    while (curNode) {\n                        curNode.draw(\"blue\");\n                        nodePath.unshift(curNode);\n                        curNode = curNode.parent;\n                    }\n                }\n            }\n        }\n    });\n\n    /*\r\n                     (_)      \r\n      _ __ ___   __ _ _ _ __  \r\n     | '_ ` _ \\ / _` | | '_ \\ \r\n     | | | | | | (_| | | | | |\r\n     |_| |_| |_|\\__,_|_|_| |_|\r\n    */\n    var canvasEl = document.getElementById('main');\n    canvasEl.style.backgroundColor = 'rgba(158, 167, 184, 0.2)';\n    canvasEl.width = canvasWidth;\n    canvasEl.height = canvasHeight;\n    var ctx = canvasEl.getContext('2d');\n    var g = GameObjects;\n    var snake = new Snake({\n        x: canvasWidth / 2,\n        y: canvasHeight / 2,\n        ctx: ctx\n    });\n\n    var grid = new Grid(ctx, canvasWidth, canvasHeight, Segment.SEGMENT_SIZE);\n    grid.draw();\n    var food = new Food(ctx, canvasWidth, canvasHeight);\n\n    var lastFrameTimeMs = 0; // The last time the loop was run\n    var maxFPS = 31; // The maximum FPS we want to allow\n    snake.currentDirection = 'EAST';\n    snake.drawAll();\n    var currentScore = -1;\n\n    function updateScore(value) {\n        document.getElementById(\"score\").textContent = \"SCORE: \" + ++currentScore;\n    }\n\n    updateScore();\n\n    function resetGame(snake) {\n        snake.clearAll();\n        snake.reset();\n        food.clear();\n        food.setNewPosition();\n        currentScore = -1;\n        updateScore();\n    }\n\n    // function update(direction) {\n    //     direction = direction || snake.currentDirection;\n    //     var keyCode = reverseDirKeyLookup[direction];\n    //     var insideWorld = insideWorldBounds(keyCode, snake.head);\n    //     if(insideWorld) {\n    //         var check = checkCollisions(snake);\n    //         if(check) {\n    //             updateSnakeFromDirection(snake, keyCode);\n    //         }\n    //         checkCollisions(snake);\n    //     } else {\n    //         resetGame(snake);            \n    //     }\n    // }\n\n    function update() {\n        var node = nodePath.shift();\n        if (node) {\n            updateSnakeFromNode(node);\n            checkCollisions(snake);\n        }\n    }\n\n    function draw() {\n        food.draw();\n        snake.drawAll();\n    }\n\n    function gameLoop(timeStamp) {\n        if (gameRunning) {\n            if (timeStamp < lastFrameTimeMs + 1000 / maxFPS) {\n                requestAnimationFrame(gameLoop);\n                return;\n            }\n            lastFrameTimeMs = timeStamp;\n            if (!nodePath.length) {\n                search();\n            }\n            update();\n            draw();\n            requestAnimationFrame(gameLoop);\n        }\n    }\n    requestAnimationFrame(gameLoop);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAuanM/ZDhlZSJdLCJuYW1lcyI6WyJHYW1lT2JqZWN0cyIsInJlcXVpcmUiLCJTbmFrZSIsIlNlZ21lbnQiLCJGb29kIiwiR3JpZCIsIndpbmRvdyIsIm9ubG9hZCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiRlBTIiwiZ2FtZUxvb3AiLCJnYW1lUnVubmluZyIsImRpcktleUxvb2t1cCIsInJldmVyc2VEaXJLZXlMb29rdXAiLCJXRVNUIiwiTk9SVEgiLCJFQVNUIiwiU09VVEgiLCJ1bmFsbG93ZWREaXJMb29rdXAiLCJ1cGRhdGVIZWFkQnlEaXJlY3Rpb24iLCJ5IiwiU0VHTUVOVF9TSVpFIiwieCIsImZyaW5nZVNldCIsImNsb3NlZFNldCIsIm5vZGVQYXRoIiwidmFsaWREaXJlY3Rpb25DaGFuZ2UiLCJrZXlDb2RlIiwiY3VycmVudERpcmVjdGlvbiIsImRpcmVjdGlvbiIsInVuYWxsb3dlZCIsImluc2lkZVdvcmxkQm91bmRzIiwiaGVhZCIsImRpcmVjdGlvblVwZGF0ZSIsIm5ld1giLCJuZXdZIiwidXBkYXRlU25ha2VGcm9tTm9kZSIsIm5vZGUiLCJzbmFrZSIsImNvbG91ciIsImRyYXciLCJjdXJIZWFkWCIsImN1ckhlYWRZIiwidGFpbCIsImNsZWFyIiwibmV3VGFpbCIsIm5leHQiLCJuZXdIZWFkIiwiY3R4IiwidHlwZSIsInVwZGF0ZVNuYWtlRnJvbURpcmVjdGlvbiIsImtleWNvZGUiLCJkaXJjdGlvblVwZGF0ZSIsImNoZWNrQ29sbGlzaW9ucyIsImVxdWFsIiwiZm9vZCIsIml0ZW0iLCJncm93Iiwic2V0TmV3UG9zaXRpb24iLCJ1cGRhdGVTY29yZSIsInNlYXJjaCIsImZvckVhY2giLCJwdXNoIiwiZmluZFJvdXRlIiwidW5zaGlmdCIsImN1ck5vZGUiLCJwYXJlbnQiLCJhZGRDaGlsZHJlblRvRnJpbmdlU2V0IiwicGFyZW50Tm9kZSIsIm5vcnRoQ29vcmRzIiwic291dGhDb29yZHMiLCJ3ZXN0Q29vcmRzIiwiZWFzdENvb3JkcyIsImNoaWxkcmVuIiwiY2VsbFRvQ29uc2lkZXIiLCJncmlkIiwiY2VsbHMiLCJjaGlsZCIsImZvdW5kIiwiY2hpbGRJc0luQ2xvc2VkIiwic29tZSIsImQiLCJkaXN0YW5jZUZyb21Ob2RlVG9Ob2RlIiwiTDIiLCJkUGx1c0wyIiwic29ydCIsImEiLCJiIiwibGVuZ3RoIiwic2hpZnQiLCJjb25zb2xlIiwibG9nIiwibm9kZUlzSW5DbG9zZWQiLCJub2RlMSIsIm5vZGUyIiwibm9kZTFYIiwibm9kZTFZIiwibm9kZTJYIiwibm9kZTJZIiwiZHgiLCJkeSIsImRpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInZhbGlkVXBkYXRlIiwiY2FudmFzRWwiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb250ZXh0IiwiZyIsImxhc3RGcmFtZVRpbWVNcyIsIm1heEZQUyIsImRyYXdBbGwiLCJjdXJyZW50U2NvcmUiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwicmVzZXRHYW1lIiwiY2xlYXJBbGwiLCJyZXNldCIsInVwZGF0ZSIsInRpbWVTdGFtcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsY0FBYyxtQkFBQUMsQ0FBUSxDQUFSLENBQWxCO0FBQ0EsSUFBSUMsUUFBUUYsWUFBWUUsS0FBeEI7QUFDQSxJQUFJQyxVQUFVSCxZQUFZRyxPQUExQjtBQUNBLElBQUlDLE9BQU9KLFlBQVlJLElBQXZCO0FBQ0EsSUFBSUMsT0FBT0wsWUFBWUssSUFBdkI7O0FBRUFDLE9BQU9DLE1BQVAsR0FBZ0IsWUFBVztBQUN2QixVQUFNQyxjQUFjLElBQXBCO0FBQ0EsVUFBTUMsZUFBZSxHQUFyQjs7QUFFQSxRQUFJQyxNQUFNLEVBQVY7QUFDQSxRQUFJQyxRQUFKO0FBQ0EsUUFBSUMsY0FBYyxJQUFsQjs7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QUNBdEY7QUFDQXdGLGtDQUFzQnRILFFBQXRCO0FBQ0g7QUFDSjtBQUNEc0gsMEJBQXNCdEgsUUFBdEI7QUFDSCxDQXBaRCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWVPYmplY3RzID0gcmVxdWlyZShcIi4vc2NyaXB0cy9zbmFrZS5qc1wiKTtcclxudmFyIFNuYWtlID0gR2FtZU9iamVjdHMuU25ha2U7XHJcbnZhciBTZWdtZW50ID0gR2FtZU9iamVjdHMuU2VnbWVudDtcclxudmFyIEZvb2QgPSBHYW1lT2JqZWN0cy5Gb29kO1xyXG52YXIgR3JpZCA9IEdhbWVPYmplY3RzLkdyaWQ7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IDE1MjA7XHJcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPSA5MjA7XHJcbiAgICBcclxuICAgIHZhciBGUFMgPSA2MDtcclxuICAgIHZhciBnYW1lTG9vcDtcclxuICAgIHZhciBnYW1lUnVubmluZyA9IHRydWU7XHJcblxyXG4gICAgdmFyIGRpcktleUxvb2t1cCA9IHtcclxuICAgICAgICAzNzogJ1dFU1QnLFxyXG4gICAgICAgIDM4OiAnTk9SVEgnLFxyXG4gICAgICAgIDM5OiAnRUFTVCcsXHJcbiAgICAgICAgNDA6ICdTT1VUSCdcclxuICAgIH07XHJcblxyXG4gICAgIHZhciByZXZlcnNlRGlyS2V5TG9va3VwID0ge1xyXG4gICAgICAgIFdFU1Q6IDM3LFxyXG4gICAgICAgIE5PUlRIOiAzOCxcclxuICAgICAgICBFQVNUOiAzOSxcclxuICAgICAgICBTT1VUSDogNDBcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHVuYWxsb3dlZERpckxvb2t1cCA9IHtcclxuICAgICAgICAnV0VTVCc6IDM5LFxyXG4gICAgICAgICdOT1JUSCc6IDQwLFxyXG4gICAgICAgICdFQVNUJzogMzcsXHJcbiAgICAgICAgJ1NPVVRIJzogMzhcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHVwZGF0ZUhlYWRCeURpcmVjdGlvbiA9IHtcclxuICAgICAgICBOT1JUSDoge1xyXG4gICAgICAgICAgICB5OiAtMSAqIFNlZ21lbnQuU0VHTUVOVF9TSVpFLFxyXG4gICAgICAgICAgICB4OiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBTT1VUSDoge1xyXG4gICAgICAgICAgICB5OiBTZWdtZW50LlNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgeDogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgRUFTVDoge1xyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB4OiBTZWdtZW50LlNFR01FTlRfU0laRVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgV0VTVDoge1xyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB4OiAtMSAqIFNlZ21lbnQuU0VHTUVOVF9TSVpFXHJcbiAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZyaW5nZVNldCA9IFtdO1xyXG4gICAgdmFyIGNsb3NlZFNldCA9IFtdO1xyXG4gICAgdmFyIG5vZGVQYXRoID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsaWREaXJlY3Rpb25DaGFuZ2Uoa2V5Q29kZSwgY3VycmVudERpcmVjdGlvbikge1xyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJLZXlMb29rdXBba2V5Q29kZV07XHJcbiAgICAgICAgaWYoY3VycmVudERpcmVjdGlvbiA9PT0gZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuYWxsb3dlZCA9IHVuYWxsb3dlZERpckxvb2t1cFtjdXJyZW50RGlyZWN0aW9uXVxyXG4gICAgICAgIHJldHVybiBrZXlDb2RlICE9IHVuYWxsb3dlZDtcclxuICAgIH0gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gaW5zaWRlV29ybGRCb3VuZHMoa2V5Q29kZSwgaGVhZCkge1xyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJLZXlMb29rdXBba2V5Q29kZV07XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvblVwZGF0ZSA9IHVwZGF0ZUhlYWRCeURpcmVjdGlvbltkaXJlY3Rpb25dO1xyXG4gICAgICAgIHZhciBuZXdYID0gaGVhZC54ICsgZGlyZWN0aW9uVXBkYXRlLng7XHJcbiAgICAgICAgdmFyIG5ld1kgPSBoZWFkLnkgKyBkaXJlY3Rpb25VcGRhdGUueTtcclxuICAgICAgICByZXR1cm4gbmV3WCA8PSBjYW52YXNXaWR0aCAmJiAgbmV3WCA+PSAwICYmIG5ld1kgPD0gY2FudmFzSGVpZ2h0ICYmIG5ld1kgPj0gMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVTbmFrZUZyb21Ob2RlKG5vZGUpIHtcclxuICAgICAgICBzbmFrZS5oZWFkLmNvbG91ciA9ICdibGFjayc7XHJcbiAgICAgICAgc25ha2UuaGVhZC5kcmF3KCk7XHJcbiAgICAgICAgdmFyIGN1ckhlYWRYID0gc25ha2UuaGVhZC54O1xyXG4gICAgICAgIHZhciBjdXJIZWFkWSA9IHNuYWtlLmhlYWQueTtcclxuICAgICAgICBzbmFrZS50YWlsLmNsZWFyKCk7XHJcbiAgICAgICAgdmFyIG5ld1RhaWwgPSBzbmFrZS50YWlsLm5leHQ7XHJcbiAgICAgICAgdmFyIG5ld0hlYWQgPSBuZXcgU2VnbWVudCh7XHJcbiAgICAgICAgICAgIHg6IG5vZGUueCxcclxuICAgICAgICAgICAgeTogbm9kZS55LFxyXG4gICAgICAgICAgICBjdHg6IG5vZGUuY3R4LFxyXG4gICAgICAgICAgICB0eXBlOiBcInNuYWtlXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3SGVhZC5uZXh0ID0gbnVsbDtcclxuICAgICAgICBzbmFrZS5oZWFkLm5leHQgPSBuZXdIZWFkO1xyXG4gICAgICAgIHNuYWtlLmhlYWQgPSBuZXdIZWFkO1xyXG4gICAgICAgIHNuYWtlLnRhaWwgPSBuZXdUYWlsO1xyXG4gICAgICAgIHNuYWtlLmhlYWQuY29sb3VyID0gJ3JlZCc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlU25ha2VGcm9tRGlyZWN0aW9uKHNuYWtlLCBrZXljb2RlKSB7XHJcbiAgICAgICAgc25ha2UuaGVhZC5jb2xvdXIgPSAnYmxhY2snO1xyXG4gICAgICAgIHNuYWtlLmhlYWQuZHJhdygpO1xyXG4gICAgICAgIHZhciBjdXJIZWFkWCA9IHNuYWtlLmhlYWQueDtcclxuICAgICAgICB2YXIgY3VySGVhZFkgPSBzbmFrZS5oZWFkLnk7XHJcbiAgICAgICAgc25ha2UudGFpbC5jbGVhcigpO1xyXG4gICAgICAgIHZhciBuZXdUYWlsID0gc25ha2UudGFpbC5uZXh0O1xyXG4gICAgICAgIHZhciBuZXdIZWFkID0gc25ha2UudGFpbFxyXG4gICAgICAgIG5ld0hlYWQubmV4dCA9IG51bGw7XHJcbiAgICAgICAgc25ha2UuaGVhZC5uZXh0ID0gbmV3SGVhZDtcclxuICAgICAgICBzbmFrZS5oZWFkID0gbmV3SGVhZDtcclxuICAgICAgICBzbmFrZS50YWlsID0gbmV3VGFpbDtcclxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyS2V5TG9va3VwW2tleWNvZGVdO1xyXG4gICAgICAgIHZhciBkaXJjdGlvblVwZGF0ZSA9IHVwZGF0ZUhlYWRCeURpcmVjdGlvbltkaXJlY3Rpb25dO1xyXG4gICAgICAgIHNuYWtlLmhlYWQueCA9IGN1ckhlYWRYICsgZGlyY3Rpb25VcGRhdGUueDtcclxuICAgICAgICBzbmFrZS5oZWFkLnkgPSBjdXJIZWFkWSArIGRpcmN0aW9uVXBkYXRlLnk7XHJcbiAgICAgICAgc25ha2UuaGVhZC5jb2xvdXIgPSAncmVkJztcclxuICAgICAgICBzbmFrZS5oZWFkLmRyYXcoKTtcclxuICAgICAgICBzbmFrZS5jdXJyZW50RGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrQ29sbGlzaW9ucyhzbmFrZSkge1xyXG4gICAgICAgIGlmKHNuYWtlLmhlYWQuZXF1YWwoZm9vZC5pdGVtKSkge1xyXG4gICAgICAgICAgICBzbmFrZS5ncm93KCk7XHJcbiAgICAgICAgICAgIGZvb2Quc2V0TmV3UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgdXBkYXRlU2NvcmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZihzbmFrZS5oZWFkLmVxdWFsKHNuYWtlLnRhaWwpKSB7XHJcbiAgICAgICAgLy8gICAgIHJlc2V0R2FtZShzbmFrZSk7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIHZhciBjdXJyZW50ID0gc25ha2UudGFpbDtcclxuICAgICAgICAvLyB3aGlsZShjdXJyZW50ICE9IHNuYWtlLmhlYWQpIHtcclxuICAgICAgICAvLyAgICAgaWYoc25ha2UuaGVhZC5lcXVhbChjdXJyZW50KSkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmVzZXRHYW1lKHNuYWtlKTtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgICAgIGZyaW5nZVNldC5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgbm9kZS5jbGVhcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNsb3NlZFNldC5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgbm9kZS5jb2xvdXIgPSBcInllbGxvd1wiO1xyXG4gICAgICAgICAgICBub2RlLmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnJpbmdlU2V0ID0gW107XHJcbiAgICAgICAgY2xvc2VkU2V0ID0gW107XHJcbiAgICAgICAgZnJpbmdlU2V0LnB1c2goc25ha2UuaGVhZCk7XHJcblxyXG4gICAgICAgIHZhciBub2RlID0gZmluZFJvdXRlKCk7XHJcbiAgICAgICAgaWYobm9kZS5lcXVhbChmb29kLml0ZW0pKSB7XHJcbiAgICAgICAgICAgIGZvb2QuaXRlbS5jb2xvdXIgPSBcInBpbmtcIjtcclxuICAgICAgICAgICAgZnJpbmdlU2V0LmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5jb2xvdXIgPSBcIm9yYW5nZVwiO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5kcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2xvc2VkU2V0LmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5jb2xvdXIgPSBcInllbGxvd1wiO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5kcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZVBhdGgudW5zaGlmdChub2RlKTtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJOb2RlID0gbm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB3aGlsZShjdXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5kcmF3KFwiYmx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlUGF0aC51bnNoaWZ0KGN1ck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLnBhcmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkQ2hpbGRyZW5Ub0ZyaW5nZVNldChwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIG5vcnRoQ29vcmRzID0ge1xyXG4gICAgICAgICAgICB4OiBwYXJlbnROb2RlLngvU2VnbWVudC5TRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHk6IChwYXJlbnROb2RlLnktU2VnbWVudC5TRUdNRU5UX1NJWkUpL1NlZ21lbnQuU0VHTUVOVF9TSVpFXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc291dGhDb29yZHMgPSB7XHJcbiAgICAgICAgICAgIHg6IHBhcmVudE5vZGUueC9TZWdtZW50LlNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgeTogKHBhcmVudE5vZGUueStTZWdtZW50LlNFR01FTlRfU0laRSkvU2VnbWVudC5TRUdNRU5UX1NJWkVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB3ZXN0Q29vcmRzID0ge1xyXG4gICAgICAgICAgICB4OiAocGFyZW50Tm9kZS54LVNlZ21lbnQuU0VHTUVOVF9TSVpFKS9TZWdtZW50LlNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgeTogcGFyZW50Tm9kZS55L1NlZ21lbnQuU0VHTUVOVF9TSVpFXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZWFzdENvb3JkcyA9IHtcclxuICAgICAgICAgICAgeDogKHBhcmVudE5vZGUueCtTZWdtZW50LlNFR01FTlRfU0laRSkvU2VnbWVudC5TRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHk6IHBhcmVudE5vZGUueS9TZWdtZW50LlNFR01FTlRfU0laRVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XHJcblxyXG5cclxuICAgICAgICBpZihwYXJlbnROb2RlLnktU2VnbWVudC5TRUdNRU5UX1NJWkUgPj0gMCkge1xyXG4gICAgICAgICAgICB2YXIgY2VsbFRvQ29uc2lkZXIgPSBncmlkLmNlbGxzW25vcnRoQ29vcmRzLnhdW25vcnRoQ29vcmRzLnldO1xyXG4gICAgICAgICAgICBpZihjZWxsVG9Db25zaWRlciAmJiBjZWxsVG9Db25zaWRlci50eXBlICE9PSBcInNuYWtlXCIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFRvQ29uc2lkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBhcmVudE5vZGUueStTZWdtZW50LlNFR01FTlRfU0laRSA8IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgICAgICB2YXIgY2VsbFRvQ29uc2lkZXIgPSBncmlkLmNlbGxzW3NvdXRoQ29vcmRzLnhdW3NvdXRoQ29vcmRzLnldO1xyXG4gICAgICAgICAgICBpZihjZWxsVG9Db25zaWRlciAmJiBjZWxsVG9Db25zaWRlci50eXBlICE9PSBcInNuYWtlXCIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFRvQ29uc2lkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBhcmVudE5vZGUueC1TZWdtZW50LlNFR01FTlRfU0laRSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHZhciBjZWxsVG9Db25zaWRlciA9IGdyaWQuY2VsbHNbd2VzdENvb3Jkcy54XVt3ZXN0Q29vcmRzLnldO1xyXG4gICAgICAgICAgICBpZihjZWxsVG9Db25zaWRlciAmJiBjZWxsVG9Db25zaWRlci50eXBlICE9PSBcInNuYWtlXCIpIHsgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFRvQ29uc2lkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBhcmVudE5vZGUueCtTZWdtZW50LlNFR01FTlRfU0laRSA8IGNhbnZhc1dpZHRoKSB7XHJcbiAgICAgICAgICAgIHZhciBjZWxsVG9Db25zaWRlciA9IGdyaWQuY2VsbHNbZWFzdENvb3Jkcy54XVtlYXN0Q29vcmRzLnldO1xyXG4gICAgICAgICAgICBpZihjZWxsVG9Db25zaWRlciAmJiBjZWxsVG9Db25zaWRlci50eXBlICE9PSBcInNuYWtlXCIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFRvQ29uc2lkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZm91bmQgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRJc0luQ2xvc2VkID0gY2xvc2VkU2V0LnNvbWUoZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZXF1YWwoY2hpbGQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYoIWNoaWxkSXNJbkNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuZCA9IHBhcmVudE5vZGUuZCArIGRpc3RhbmNlRnJvbU5vZGVUb05vZGUocGFyZW50Tm9kZSwgY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIEwyID0gZGlzdGFuY2VGcm9tTm9kZVRvTm9kZShjaGlsZCwgZm9vZC5pdGVtKTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmRQbHVzTDIgPSBjaGlsZC5kICsgTDI7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBwYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZyaW5nZVNldC5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnJpbmdlU2V0LnNvcnQoZnVuY3Rpb24oYSxiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLmRQbHVzTDIgPiBiLmRQbHVzTDIgPyAxIDogLTE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4vL2h0dHA6Ly9tbmVtc3R1ZGlvLm9yZy9wYXRoLWZpbmRpbmctYS1zdGFyLmh0bVxyXG4gICAgZnVuY3Rpb24gZmluZFJvdXRlKCkge1xyXG4gICAgICAgIGlmKGZyaW5nZVNldC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBmcmluZ2VTZXQuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYobm9kZS5lcXVhbChmb29kLml0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZvdW5kXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZUlzSW5DbG9zZWQgPSBjbG9zZWRTZXQuc29tZShmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZXF1YWwobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKCFub2RlSXNJbkNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZFNldC5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENoaWxkcmVuVG9GcmluZ2VTZXQobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluZFJvdXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkaXN0YW5jZUZyb21Ob2RlVG9Ob2RlKG5vZGUxLCBub2RlMikge1xyXG4gICAgICAgIHZhciBub2RlMVggPSBub2RlMS54O1xyXG4gICAgICAgIHZhciBub2RlMVkgPSBub2RlMS55O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBub2RlMlggPSBub2RlMi54O1xyXG4gICAgICAgIHZhciBub2RlMlkgPSBub2RlMi55O1xyXG5cclxuICAgICAgICB2YXIgZHggPSAobm9kZTJYIC0gbm9kZTFYKTtcclxuICAgICAgICB2YXIgZHkgPSAobm9kZTJZIC0gbm9kZTFZKTtcclxuICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3coZHgsIDIpICsgTWF0aC5wb3coZHksIDIpKTtcclxuICAgICAgICByZXR1cm4gZGlzdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PT0gODEpIHtcclxuICAgICAgICAgICAgZ2FtZVJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYoZXZlbnQua2V5Q29kZSA9PSAzNyB8fCBldmVudC5rZXlDb2RlID09IDM5IHx8IGV2ZW50LmtleUNvZGUgPT0gMzggfHwgZXZlbnQua2V5Q29kZSA9PSA0MCkgeyAvL0xFRlRcclxuICAgICAgICAgICAgdmFyIHZhbGlkVXBkYXRlID0gdmFsaWREaXJlY3Rpb25DaGFuZ2UoZXZlbnQua2V5Q29kZSwgc25ha2UuY3VycmVudERpcmVjdGlvbikgJiYgaW5zaWRlV29ybGRCb3VuZHMoZXZlbnQua2V5Q29kZSwgc25ha2UuaGVhZCk7XHJcbiAgICAgICAgICAgIGlmKHZhbGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVTbmFrZUZyb21EaXJlY3Rpb24oc25ha2UsIGV2ZW50LmtleUNvZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmKGV2ZW50LmtleUNvZGUgPT09IDMyKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaCgpO1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IGZpbmRSb3V0ZSgpO1xyXG4gICAgICAgICAgICBpZihub2RlLmVxdWFsKGZvb2QuaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIGZvb2QuaXRlbS5jb2xvdXIgPSBcInBpbmtcIjtcclxuICAgICAgICAgICAgICAgIGZyaW5nZVNldC5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbG91ciA9IFwib3JhbmdlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbG9zZWRTZXQuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jb2xvdXIgPSBcInllbGxvd1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVQYXRoLnVuc2hpZnQobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ck5vZGUgPSBub2RlLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZShjdXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ck5vZGUuZHJhdyhcImJsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVQYXRoLnVuc2hpZnQoY3VyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuLypcclxuICAgICAgICAgICAgICAgICAoXykgICAgICBcclxuICBfIF9fIF9fXyAgIF9fIF8gXyBfIF9fICBcclxuIHwgJ18gYCBfIFxcIC8gX2AgfCB8ICdfIFxcIFxyXG4gfCB8IHwgfCB8IHwgKF98IHwgfCB8IHwgfFxyXG4gfF98IHxffCB8X3xcXF9fLF98X3xffCB8X3xcclxuKi9cclxuICAgIHZhciBjYW52YXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjYW52YXNFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgxNTgsIDE2NywgMTg0LCAwLjIpJztcclxuICAgIGNhbnZhc0VsLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICBjYW52YXNFbC5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB2YXIgY3R4ID0gY2FudmFzRWwuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIHZhciBnID0gR2FtZU9iamVjdHM7XHJcbiAgICB2YXIgc25ha2UgPSBuZXcgU25ha2Uoe1xyXG4gICAgICAgIHg6IGNhbnZhc1dpZHRoLzIsXHJcbiAgICAgICAgeTogY2FudmFzSGVpZ2h0LzIsXHJcbiAgICAgICAgY3R4OiBjdHhcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBncmlkID0gbmV3IEdyaWQoY3R4LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBTZWdtZW50LlNFR01FTlRfU0laRSk7XHJcbiAgICBncmlkLmRyYXcoKTtcclxuICAgIHZhciBmb29kID0gbmV3IEZvb2QoY3R4LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcclxuXHJcbiAgICB2YXIgbGFzdEZyYW1lVGltZU1zID0gMCAvLyBUaGUgbGFzdCB0aW1lIHRoZSBsb29wIHdhcyBydW5cclxuICAgIHZhciBtYXhGUFMgPSAzMTsgLy8gVGhlIG1heGltdW0gRlBTIHdlIHdhbnQgdG8gYWxsb3dcclxuICAgIHNuYWtlLmN1cnJlbnREaXJlY3Rpb24gPSAnRUFTVCc7XHJcbiAgICBzbmFrZS5kcmF3QWxsKCk7XHJcbiAgICB2YXIgY3VycmVudFNjb3JlID0gLTE7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNjb3JlKHZhbHVlKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKS50ZXh0Q29udGVudCA9IFwiU0NPUkU6IFwiICsgKytjdXJyZW50U2NvcmU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2NvcmUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiByZXNldEdhbWUoc25ha2UpIHtcclxuICAgICAgICBzbmFrZS5jbGVhckFsbCgpO1xyXG4gICAgICAgIHNuYWtlLnJlc2V0KCk7XHJcbiAgICAgICAgZm9vZC5jbGVhcigpO1xyXG4gICAgICAgIGZvb2Quc2V0TmV3UG9zaXRpb24oKTtcclxuICAgICAgICBjdXJyZW50U2NvcmUgPSAtMTtcclxuICAgICAgICB1cGRhdGVTY29yZSgpOyAgICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gdXBkYXRlKGRpcmVjdGlvbikge1xyXG4gICAgLy8gICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCBzbmFrZS5jdXJyZW50RGlyZWN0aW9uO1xyXG4gICAgLy8gICAgIHZhciBrZXlDb2RlID0gcmV2ZXJzZURpcktleUxvb2t1cFtkaXJlY3Rpb25dO1xyXG4gICAgLy8gICAgIHZhciBpbnNpZGVXb3JsZCA9IGluc2lkZVdvcmxkQm91bmRzKGtleUNvZGUsIHNuYWtlLmhlYWQpO1xyXG4gICAgLy8gICAgIGlmKGluc2lkZVdvcmxkKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBjaGVjayA9IGNoZWNrQ29sbGlzaW9ucyhzbmFrZSk7XHJcbiAgICAvLyAgICAgICAgIGlmKGNoZWNrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB1cGRhdGVTbmFrZUZyb21EaXJlY3Rpb24oc25ha2UsIGtleUNvZGUpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGNoZWNrQ29sbGlzaW9ucyhzbmFrZSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgcmVzZXRHYW1lKHNuYWtlKTsgICAgICAgICAgICBcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZVBhdGguc2hpZnQoKTtcclxuICAgICAgICBpZihub2RlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVNuYWtlRnJvbU5vZGUobm9kZSk7XHJcbiAgICAgICAgICAgIGNoZWNrQ29sbGlzaW9ucyhzbmFrZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXcoKSB7XHJcbiAgICAgICAgZm9vZC5kcmF3KCk7XHJcbiAgICAgICAgc25ha2UuZHJhd0FsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdhbWVMb29wKHRpbWVTdGFtcCkge1xyXG4gICAgICAgICBpZihnYW1lUnVubmluZykge1xyXG4gICAgICAgICAgICBpZih0aW1lU3RhbXAgPCBsYXN0RnJhbWVUaW1lTXMgKyAoMTAwMCAvIG1heEZQUykpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdEZyYW1lVGltZU1zID0gdGltZVN0YW1wO1xyXG4gICAgICAgICAgICBpZighbm9kZVBhdGgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2goKTtcclxuICAgICAgICAgICAgfSAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcclxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("function Segment(options) {\n    var me = this;\n\n    me.width = Segment.SEGMENT_SIZE;\n    me.height = Segment.SEGMENT_SIZE;\n    me.colour = options.colour || \"black\";\n    me.next = options.next || null;\n    me.prev = options.prev || null;\n    me.x = options.x;\n    me.y = options.y;\n    me.d = 0;\n    me.dPlusL2 = 0;\n    me.parent = options.parent;\n    me.ctx = options.ctx;\n    me.type = options.type;\n}\n\nSegment.prototype.updatePos = function updatePos(x, y) {\n    this.x = x;\n    this.y = y;\n};\n\nSegment.prototype.draw = function draw(colour) {\n    var me = this;\n    me.ctx.fillStyle = colour || me.colour;\n    me.ctx.fillRect(me.x, me.y, me.width, me.height);\n};\n\nSegment.prototype.clear = function clear() {\n    var me = this;\n    me.ctx.clearRect(me.x, me.y, me.width, me.height);\n    me.ctx.strokeStyle = \"grey\";\n    me.ctx.strokeRect(me.x, me.y, me.width, me.height);\n};\n\nSegment.prototype.equal = function (otherSegment) {\n    var me = this;\n    if (me.x == otherSegment.x && me.y == otherSegment.y) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\nSegment.SEGMENT_SIZE = 20;\n\nfunction Snake(options) {\n    var me = this;\n    me.x = options.x || 0;\n    me.y = options.y || 0;\n\n    me.ctx = options.ctx;\n    me.currentDirection = 'EAST';\n\n    me.reset();\n}\n\nSnake.prototype.reset = function reset() {\n    var me = this;\n\n    me.head = null;\n    me.tail = null;\n\n    var tail = new Segment({\n        x: me.x,\n        y: me.y,\n        ctx: me.ctx,\n        type: \"snake\"\n    });\n    var body = new Segment({\n        x: tail.x + Segment.SEGMENT_SIZE,\n        y: tail.y,\n        ctx: me.ctx,\n        type: \"snake\"\n    });\n    var head = new Segment({\n        x: body.x + Segment.SEGMENT_SIZE,\n        y: body.y,\n        colour: 'red',\n        ctx: me.ctx,\n        type: \"snake\"\n    });\n\n    tail.next = body;\n    body.next = head;\n    head.next = null;\n\n    me.head = head;\n    me.tail = tail;\n\n    me.updateTailByDirection = {\n        NORTH: {\n            y: Segment.SEGMENT_SIZE,\n            x: 0\n        },\n        SOUTH: {\n            y: -1 * Segment.SEGMENT_SIZE,\n            x: 0\n        },\n        EAST: {\n            y: 0,\n            x: -1 * Segment.SEGMENT_SIZE\n        },\n        WEST: {\n            y: 0,\n            x: Segment.SEGMENT_SIZE\n        }\n    };\n};\n\nSnake.prototype.drawAll = function drawAll() {\n    var me = this;\n    var segment = me.tail;\n    segment.draw();\n    while (segment.next) {\n        segment = segment.next;\n        segment.draw();\n    }\n};\n\nSnake.prototype.clearAll = function clearAll() {\n    var me = this;\n    var segment = me.tail;\n    segment.clear();\n    while (segment.next) {\n        segment = segment.next;\n        segment.clear();\n    }\n};\n\nSnake.prototype.grow = function grow() {\n    var me = this;\n    var directionUpdate = me.updateTailByDirection[me.currentDirection];\n\n    var newTail = new Segment({\n        x: me.tail.x + directionUpdate.x,\n        y: me.tail.y + directionUpdate.y,\n        ctx: me.ctx,\n        type: \"snake\"\n    });\n    newTail.next = me.tail;\n    me.tail = newTail;\n};\n\nfunction Food(ctx, canvasWidth, canvasHeight) {\n    var me = this;\n    me.allFoodPositionsLookup = [];\n    var i, j;\n    for (i = 0; i < canvasWidth; i += Segment.SEGMENT_SIZE) {\n        for (j = 0; j < canvasHeight; j += Segment.SEGMENT_SIZE) {\n            me.allFoodPositionsLookup.push({ x: i, y: j });\n        }\n    }\n    var startPosition = me.getRandXY();\n    me.item = new Segment({\n        ctx: ctx,\n        x: startPosition.x,\n        y: startPosition.y,\n        colour: 'green',\n        type: \"food\"\n    });\n}\n\nFood.prototype.getRandXY = function getRandXY() {\n    function getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n    var me = this;\n    var min = 0;\n    var max = me.allFoodPositionsLookup.length;\n\n    return me.allFoodPositionsLookup[getRandomInt(min, max)];\n};\n\nFood.prototype.setNewPosition = function setNewPosition() {\n    var me = this;\n    var pos = me.getRandXY();\n    me.item.colour = \"green\";\n    me.item.x = pos.x;\n    me.item.y = pos.y;\n};\n\nFood.prototype.draw = function draw() {\n    this.item.draw();\n};\n\nFood.prototype.clear = function clear() {\n    this.item.clear();\n};\n\nfunction Grid(ctx, width, height, cellSize) {\n    var me = this;\n    me.cells = [];\n    me.ctx = ctx;\n    me.width = width;\n    me.height = height;\n    me.cellSize = cellSize;\n\n    var x, y;\n    for (x = 0; x < width; x += cellSize) {\n        for (y = 0; y < height; y += cellSize) {\n            var index = x / cellSize;\n            var newCell = new Segment({\n                x: x,\n                y: y,\n                width: Segment.SEGMENT_SIZE,\n                height: Segment.SEGMENT_SIZE,\n                ctx: ctx,\n                type: \"grid\"\n            });\n            if (!me.cells[index]) {\n                me.cells[index] = [newCell];\n            } else {\n                me.cells[index].push(newCell);\n            }\n        }\n    }\n}\n\nGrid.prototype.draw = function draw() {\n    var me = this;\n    for (x = 0; x < me.width; x += me.cellSize) {\n        for (y = 0; y < me.height; y += me.cellSize) {\n            var cell = me.cells[x / me.cellSize][y / me.cellSize];\n            me.ctx.strokeStyle = \"grey\";\n            me.ctx.strokeRect(cell.x, cell.y, cell.width, cell.height);\n        }\n    }\n};\n\nmodule.exports = {\n    Food: Food,\n    Snake: Snake,\n    Segment: Segment,\n    Grid: Grid\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3NuYWtlLmpzP2FlZTMiXSwibmFtZXMiOlsiU2VnbWVudCIsIm9wdGlvbnMiLCJtZSIsIndpZHRoIiwiU0VHTUVOVF9TSVpFIiwiaGVpZ2h0IiwiY29sb3VyIiwibmV4dCIsInByZXYiLCJ4IiwieSIsImQiLCJkUGx1c0wyIiwicGFyZW50IiwiY3R4IiwidHlwZSIsInByb3RvdHlwZSIsInVwZGF0ZVBvcyIsImRyYXciLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNsZWFyIiwiY2xlYXJSZWN0Iiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiZXF1YWwiLCJvdGhlclNlZ21lbnQiLCJTbmFrZSIsImN1cnJlbnREaXJlY3Rpb24iLCJyZXNldCIsImhlYWQiLCJ0YWlsIiwiYm9keSIsInVwZGF0ZVRhaWxCeURpcmVjdGlvbiIsIk5PUlRIIiwiU09VVEgiLCJFQVNUIiwiV0VTVCIsImRyYXdBbGwiLCJzZWdtZW50IiwiY2xlYXJBbGwiLCJncm93IiwiZGlyZWN0aW9uVXBkYXRlIiwibmV3VGFpbCIsIkZvb2QiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImFsbEZvb2RQb3NpdGlvbnNMb29rdXAiLCJpIiwiaiIsInB1c2giLCJzdGFydFBvc2l0aW9uIiwiZ2V0UmFuZFhZIiwiaXRlbSIsImdldFJhbmRvbUludCIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsInNldE5ld1Bvc2l0aW9uIiwicG9zIiwiR3JpZCIsImNlbGxTaXplIiwiY2VsbHMiLCJpbmRleCIsIm5ld0NlbGwiLCJjZWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsT0FBVCxDQUFpQkMsT0FBakIsRUFBMEI7QUFDdEIsUUFBSUMsS0FBSyxJQUFUOztBQUVBQSxPQUFHQyxLQUFILEdBQVdILFFBQVFJLFlBQW5CO0FBQ0FGLE9BQUdHLE1BQUgsR0FBWUwsUUFBUUksWUFBcEI7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YitELFVBQU1BO0FBSk8sQ0FBakIiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFNlZ21lbnQob3B0aW9ucykge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuXHJcbiAgICBtZS53aWR0aCA9IFNlZ21lbnQuU0VHTUVOVF9TSVpFO1xyXG4gICAgbWUuaGVpZ2h0ID0gU2VnbWVudC5TRUdNRU5UX1NJWkU7XHJcbiAgICBtZS5jb2xvdXIgPSBvcHRpb25zLmNvbG91ciB8fCBcImJsYWNrXCI7XHJcbiAgICBtZS5uZXh0ID0gb3B0aW9ucy5uZXh0IHx8IG51bGw7XHJcbiAgICBtZS5wcmV2ID0gb3B0aW9ucy5wcmV2IHx8IG51bGw7XHJcbiAgICBtZS54ID0gb3B0aW9ucy54O1xyXG4gICAgbWUueSA9IG9wdGlvbnMueTtcclxuICAgIG1lLmQgPSAwO1xyXG4gICAgbWUuZFBsdXNMMiA9IDA7XHJcbiAgICBtZS5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcclxuICAgIG1lLmN0eCA9IG9wdGlvbnMuY3R4O1xyXG4gICAgbWUudHlwZSA9IG9wdGlvbnMudHlwZTtcclxufVxyXG5cclxuU2VnbWVudC5wcm90b3R5cGUudXBkYXRlUG9zID0gZnVuY3Rpb24gdXBkYXRlUG9zKHgsIHkpIHtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG59OyAgXHJcblxyXG5TZWdtZW50LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gZHJhdyhjb2xvdXIpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICBtZS5jdHguZmlsbFN0eWxlID0gY29sb3VyIHx8IG1lLmNvbG91cjtcclxuICAgIG1lLmN0eC5maWxsUmVjdChtZS54LCBtZS55LCBtZS53aWR0aCwgbWUuaGVpZ2h0KTtcclxufTtcclxuXHJcblNlZ21lbnQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgbWUuY3R4LmNsZWFyUmVjdChtZS54LCBtZS55LCBtZS53aWR0aCwgbWUuaGVpZ2h0KTtcclxuICAgIG1lLmN0eC5zdHJva2VTdHlsZT1cImdyZXlcIjtcclxuICAgIG1lLmN0eC5zdHJva2VSZWN0KG1lLngsIG1lLnksIG1lLndpZHRoLCBtZS5oZWlnaHQpO1xyXG59O1xyXG5cclxuU2VnbWVudC5wcm90b3R5cGUuZXF1YWwgPSBmdW5jdGlvbihvdGhlclNlZ21lbnQpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICBpZihtZS54ID09IG90aGVyU2VnbWVudC54ICYmIG1lLnkgPT0gb3RoZXJTZWdtZW50LnkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU2VnbWVudC5TRUdNRU5UX1NJWkUgPSAyMDtcclxuXHJcbmZ1bmN0aW9uIFNuYWtlKG9wdGlvbnMpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7ICAgXHJcbiAgICBtZS54ID0gb3B0aW9ucy54IHx8IDA7XHJcbiAgICBtZS55ID0gb3B0aW9ucy55IHx8IDA7XHJcblxyXG4gICAgbWUuY3R4ID0gb3B0aW9ucy5jdHg7XHJcbiAgICBtZS5jdXJyZW50RGlyZWN0aW9uID0gJ0VBU1QnO1xyXG5cclxuICAgIG1lLnJlc2V0KCk7XHJcbn1cclxuXHJcblNuYWtlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIFxyXG4gICAgbWUuaGVhZCA9IG51bGw7XHJcbiAgICBtZS50YWlsID0gbnVsbDtcclxuXHJcbiAgICB2YXIgdGFpbCA9IG5ldyBTZWdtZW50KHtcclxuICAgICAgICB4OiBtZS54LFxyXG4gICAgICAgIHk6IG1lLnksXHJcbiAgICAgICAgY3R4OiBtZS5jdHgsXHJcbiAgICAgICAgdHlwZTogXCJzbmFrZVwiXHJcbiAgICB9KTtcclxuICAgIHZhciBib2R5ID0gbmV3IFNlZ21lbnQoe1xyXG4gICAgICAgIHg6IHRhaWwueCArIFNlZ21lbnQuU0VHTUVOVF9TSVpFLFxyXG4gICAgICAgIHk6IHRhaWwueSxcclxuICAgICAgICBjdHg6IG1lLmN0eCxcclxuICAgICAgICB0eXBlOiBcInNuYWtlXCJcclxuICAgIH0pO1xyXG4gICAgdmFyIGhlYWQgPSBuZXcgU2VnbWVudCh7XHJcbiAgICAgICAgeDogYm9keS54ICsgU2VnbWVudC5TRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgeTogYm9keS55LFxyXG4gICAgICAgIGNvbG91cjogJ3JlZCcsXHJcbiAgICAgICAgY3R4OiBtZS5jdHgsXHJcbiAgICAgICAgdHlwZTogXCJzbmFrZVwiXHJcbiAgICB9KTtcclxuXHJcbiAgICB0YWlsLm5leHQgPSBib2R5O1xyXG4gICAgYm9keS5uZXh0ID0gaGVhZDtcclxuICAgIGhlYWQubmV4dCA9IG51bGw7XHJcblxyXG4gICAgbWUuaGVhZCA9IGhlYWQ7XHJcbiAgICBtZS50YWlsID0gdGFpbDtcclxuXHJcbiAgICBtZS51cGRhdGVUYWlsQnlEaXJlY3Rpb24gPSB7XHJcbiAgICAgICAgTk9SVEg6IHtcclxuICAgICAgICAgICAgeTogU2VnbWVudC5TRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHg6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFNPVVRIOiB7XHJcbiAgICAgICAgICAgIHk6IC0xICogU2VnbWVudC5TRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHg6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIEVBU1Q6IHtcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDogLTEgKiBTZWdtZW50LlNFR01FTlRfU0laRVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgV0VTVDoge1xyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB4OiBTZWdtZW50LlNFR01FTlRfU0laRVxyXG4gICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICB9O1xyXG5cclxufTtcclxuXHJcblNuYWtlLnByb3RvdHlwZS5kcmF3QWxsID0gZnVuY3Rpb24gZHJhd0FsbCgpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICB2YXIgc2VnbWVudCA9IG1lLnRhaWw7XHJcbiAgICBzZWdtZW50LmRyYXcoKTtcclxuICAgIHdoaWxlKHNlZ21lbnQubmV4dCkge1xyXG4gICAgICAgIHNlZ21lbnQgPSBzZWdtZW50Lm5leHQ7XHJcbiAgICAgICAgc2VnbWVudC5kcmF3KCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TbmFrZS5wcm90b3R5cGUuY2xlYXJBbGwgPSBmdW5jdGlvbiBjbGVhckFsbCgpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICB2YXIgc2VnbWVudCA9IG1lLnRhaWw7XHJcbiAgICBzZWdtZW50LmNsZWFyKCk7XHJcbiAgICB3aGlsZShzZWdtZW50Lm5leHQpIHtcclxuICAgICAgICBzZWdtZW50ID0gc2VnbWVudC5uZXh0O1xyXG4gICAgICAgIHNlZ21lbnQuY2xlYXIoKTtcclxuICAgIH1cclxufTtcclxuXHJcblNuYWtlLnByb3RvdHlwZS5ncm93ID0gZnVuY3Rpb24gZ3JvdygpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICB2YXIgZGlyZWN0aW9uVXBkYXRlID0gbWUudXBkYXRlVGFpbEJ5RGlyZWN0aW9uW21lLmN1cnJlbnREaXJlY3Rpb25dO1xyXG5cclxuICAgIHZhciBuZXdUYWlsID0gbmV3IFNlZ21lbnQoe1xyXG4gICAgICAgIHg6IG1lLnRhaWwueCArIGRpcmVjdGlvblVwZGF0ZS54LFxyXG4gICAgICAgIHk6IG1lLnRhaWwueSArIGRpcmVjdGlvblVwZGF0ZS55LFxyXG4gICAgICAgIGN0eDogbWUuY3R4LFxyXG4gICAgICAgIHR5cGU6IFwic25ha2VcIlxyXG4gICAgfSk7XHJcbiAgICBuZXdUYWlsLm5leHQgPSBtZS50YWlsO1xyXG4gICAgbWUudGFpbCA9IG5ld1RhaWw7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBGb29kKGN0eCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCkge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIG1lLmFsbEZvb2RQb3NpdGlvbnNMb29rdXAgPSBbXTtcclxuICAgIHZhciBpLGo7XHJcbiAgICBmb3IoaSA9IDAgOyBpIDwgY2FudmFzV2lkdGggOyBpICs9IFNlZ21lbnQuU0VHTUVOVF9TSVpFKSB7XHJcbiAgICAgICAgZm9yKGogPSAwOyBqIDwgY2FudmFzSGVpZ2h0IDsgaiArPSBTZWdtZW50LlNFR01FTlRfU0laRSkge1xyXG4gICAgICAgICAgICBtZS5hbGxGb29kUG9zaXRpb25zTG9va3VwLnB1c2goeyB4OiBpLCB5OiBqIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBzdGFydFBvc2l0aW9uID0gbWUuZ2V0UmFuZFhZKCk7XHJcbiAgICBtZS5pdGVtID0gbmV3IFNlZ21lbnQoe1xyXG4gICAgICAgIGN0eDogY3R4LFxyXG4gICAgICAgIHg6IHN0YXJ0UG9zaXRpb24ueCxcclxuICAgICAgICB5OiBzdGFydFBvc2l0aW9uLnksXHJcbiAgICAgICAgY29sb3VyOiAnZ3JlZW4nLFxyXG4gICAgICAgIHR5cGU6IFwiZm9vZFwiXHJcbiAgICB9KTtcclxufVxyXG5cclxuRm9vZC5wcm90b3R5cGUuZ2V0UmFuZFhZID0gZnVuY3Rpb24gZ2V0UmFuZFhZKCkge1xyXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xyXG4gICAgfVxyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIHZhciBtaW4gPSAwO1xyXG4gICAgdmFyIG1heCA9IG1lLmFsbEZvb2RQb3NpdGlvbnNMb29rdXAubGVuZ3RoO1xyXG4gICAgXHJcbiAgICByZXR1cm4gbWUuYWxsRm9vZFBvc2l0aW9uc0xvb2t1cFtnZXRSYW5kb21JbnQobWluLCBtYXgpXTtcclxufTtcclxuXHJcbkZvb2QucHJvdG90eXBlLnNldE5ld1Bvc2l0aW9uID0gZnVuY3Rpb24gc2V0TmV3UG9zaXRpb24oKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgdmFyIHBvcyA9IG1lLmdldFJhbmRYWSgpO1xyXG4gICAgbWUuaXRlbS5jb2xvdXIgPSBcImdyZWVuXCI7XHJcbiAgICBtZS5pdGVtLnggPSBwb3MueDtcclxuICAgIG1lLml0ZW0ueSA9IHBvcy55OyAgIFxyXG59O1xyXG5cclxuRm9vZC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIGRyYXcoKSB7XHJcbiAgICB0aGlzLml0ZW0uZHJhdygpO1xyXG59XHJcblxyXG5Gb29kLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgdGhpcy5pdGVtLmNsZWFyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdyaWQoY3R4LCB3aWR0aCwgaGVpZ2h0LCBjZWxsU2l6ZSkge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIG1lLmNlbGxzID0gW107XHJcbiAgICBtZS5jdHggPSBjdHg7XHJcbiAgICBtZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgbWUuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgbWUuY2VsbFNpemUgPSBjZWxsU2l6ZTtcclxuXHJcbiAgICB2YXIgeCx5O1xyXG4gICAgZm9yKHggPSAwOyB4IDwgd2lkdGggOyB4ICs9IGNlbGxTaXplKSB7XHJcbiAgICAgICAgZm9yKHkgPSAwIDsgeSA8IGhlaWdodDsgeSArPSBjZWxsU2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB4L2NlbGxTaXplO1xyXG4gICAgICAgICAgICB2YXIgbmV3Q2VsbCA9IG5ldyBTZWdtZW50KHtcclxuICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICB5OiB5LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFNlZ21lbnQuU0VHTUVOVF9TSVpFLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBTZWdtZW50LlNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgICAgIGN0eDogY3R4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJncmlkXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmKCFtZS5jZWxsc1tpbmRleF0pIHtcclxuICAgICAgICAgICAgICAgIG1lLmNlbGxzW2luZGV4XSA9IFtuZXdDZWxsXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1lLmNlbGxzW2luZGV4XS5wdXNoKG5ld0NlbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5HcmlkLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gZHJhdygpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICBmb3IoeCA9IDA7IHggPCBtZS53aWR0aCA7IHggKz0gbWUuY2VsbFNpemUpIHtcclxuICAgICAgICBmb3IoeSA9IDAgOyB5IDwgbWUuaGVpZ2h0OyB5ICs9IG1lLmNlbGxTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBjZWxsID0gbWUuY2VsbHNbeC9tZS5jZWxsU2l6ZV1beS9tZS5jZWxsU2l6ZV07XHJcbiAgICAgICAgICAgIG1lLmN0eC5zdHJva2VTdHlsZT1cImdyZXlcIjtcclxuICAgICAgICAgICAgbWUuY3R4LnN0cm9rZVJlY3QoY2VsbC54LCBjZWxsLnksIGNlbGwud2lkdGgsIGNlbGwuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG4gICAgXHJcbn1cclxuICAgIFxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBGb29kOiBGb29kLFxyXG4gICAgU25ha2U6IFNuYWtlLFxyXG4gICAgU2VnbWVudDogU2VnbWVudCxcclxuICAgIEdyaWQ6IEdyaWQsXHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NjcmlwdHMvc25ha2UuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);