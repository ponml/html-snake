/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

	eval("window.onload = function () {\n    const canvasWidth = 1500;\n    const canvasHeight = 1500;\n    var SEGMENT_SIZE = 20;\n    var FPS = 60;\n    var gameLoop;\n    var gameRunning = true;\n\n    var dirKeyLookup = {\n        37: 'WEST',\n        38: 'NORTH',\n        39: 'EAST',\n        40: 'SOUTH'\n    };\n\n    var unallowedDirLookup = {\n        'WEST': 39,\n        'NORTH': 40,\n        'EAST': 37,\n        'SOUTH': 38\n    };\n\n    var dirUpdateLookup = {\n        NORTH: {\n            y: -1 * SEGMENT_SIZE,\n            x: 0\n        },\n        SOUTH: {\n            y: SEGMENT_SIZE,\n            x: 0\n        },\n        EAST: {\n            y: 0,\n            x: SEGMENT_SIZE\n        },\n        WEST: {\n            y: 0,\n            x: -1 * SEGMENT_SIZE\n        }\n    };\n\n    function validDirectionChange(keyCode, currentDirection) {\n        var unallowed = unallowedDirLookup[currentDirection];\n        return keyCode != unallowed;\n    }\n\n    function Snake(options) {\n        var me = this;\n        var x = options.x || 0;\n        var y = options.y || 0;\n\n        me.ctx = options.ctx;\n        me.currentDirection = 'EAST';\n\n        var tail = new SnakeSegment({\n            isTail: true,\n            x: x,\n            y: y,\n            ctx: me.ctx\n        });\n        var body = new SnakeSegment({\n            x: tail.x + SEGMENT_SIZE,\n            y: tail.y,\n            ctx: me.ctx\n        });\n        var head = new SnakeSegment({\n            isHead: true,\n            x: body.x + SEGMENT_SIZE,\n            y: body.y,\n            colour: 'red',\n            ctx: me.ctx\n        });\n\n        tail.next = body;\n        body.next = head;\n\n        me.head = head;\n        me.tail = tail;\n    }\n\n    Snake.prototype.drawAll = function drawAll() {\n        var me = this;\n        var segment = me.tail;\n        segment.draw();\n        while (segment.next) {\n            segment = segment.next;\n            segment.draw();\n        }\n    };\n\n    function SnakeSegment(options) {\n        var me = this;\n\n        me.width = SEGMENT_SIZE;\n        me.height = SEGMENT_SIZE;\n        me.colour = options.colour || \"black\";\n        me.next = options.next || null;\n        me.prev = options.prev || null;\n        me.x = options.x;\n        me.y = options.y;\n        me.ctx = options.ctx;\n    }\n\n    SnakeSegment.prototype.updatePos = function updatePos(x, y) {\n        this.x = x;\n        this.y = y;\n    };\n\n    SnakeSegment.prototype.draw = function draw() {\n        var me = this;\n        me.ctx.fillStyle = me.colour;\n        me.ctx.fillRect(me.x, me.y, me.width, me.height);\n    };\n\n    SnakeSegment.prototype.clear = function clear() {\n        var me = this;\n        me.ctx.clearRect(me.x, me.y, me.width, me.height);\n    };\n\n    SnakeSegment.prototype.drawNext = function drawNext(headSegment, direction) {\n        var me = this;\n        me.isHead = true;\n    };\n\n    console.log(\"GOGOGOGO\");\n\n    document.addEventListener('keydown', function (event) {\n        if (event.keyCode === 81) {\n            clearInterval(gameLoop);\n        } else if (event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 38 || event.keyCode == 40) {\n            //LEFT\n\n            if (validDirectionChange(event.keyCode, snake.currentDirection)) {\n                snake.head.colour = 'black';\n                snake.head.draw();\n                var curHeadX = snake.head.x;\n                var curHeadY = snake.head.y;\n                snake.tail.clear();\n                var newTail = snake.tail.next;\n                var newHead = snake.tail;\n                newHead.next = null;\n                snake.head.next = newHead;\n                snake.head = newHead;\n                snake.tail = newTail;\n                var direction = dirKeyLookup[event.keyCode];\n                var dirctionUpdate = dirUpdateLookup[direction];\n                snake.head.x = curHeadX + dirctionUpdate.x;\n                snake.head.y = curHeadY + dirctionUpdate.y;\n                snake.head.colour = 'red';\n                snake.head.draw();\n                snake.currentDirection = direction;\n            }\n        }\n    });\n\n    var canvasEl = document.getElementById('main');\n    canvasEl.style.backgroundColor = 'rgba(158, 167, 184, 0.2)';\n    canvasEl.width = canvasWidth;\n    canvasEl.height = canvasHeight;\n    var ctx = canvasEl.getContext('2d');\n    var snake = new Snake({\n        x: canvasWidth / 2,\n        y: canvasHeight / 2,\n        ctx: ctx\n    });\n\n    gameLoop = setInterval(function () {\n        snake.drawAll();\n    }, 1000 / FPS);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAuanM/ZDhlZSJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsIlNFR01FTlRfU0laRSIsIkZQUyIsImdhbWVMb29wIiwiZ2FtZVJ1bm5pbmciLCJkaXJLZXlMb29rdXAiLCJ1bmFsbG93ZWREaXJMb29rdXAiLCJkaXJVcGRhdGVMb29rdXAiLCJOT1JUSCIsInkiLCJ4IiwiU09VVEgiLCJFQVNUIiwiV0VTVCIsInZhbGlkRGlyZWN0aW9uQ2hhbmdlIiwia2V5Q29kZSIsImN1cnJlbnREaXJlY3Rpb24iLCJ1bmFsbG93ZWQiLCJTbmFrZSIsIm9wdGlvbnMiLCJtZSIsImN0eCIsInRhaWwiLCJTbmFrZVNlZ21lbnQiLCJpc1RhaWwiLCJib2R5IiwiaGVhZCIsImlzSGVhZCIsImNvbG91ciIsIm5leHQiLCJwcm90b3R5cGUiLCJkcmF3QWxsIiwic2VnbWVudCIsImRyYXciLCJ3aWR0aCIsImhlaWdodCIsInByZXYiLCJ1cGRhdGVQb3MiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNsZWFyIiwiY2xlYXJSZWN0IiwiZHJhd05leHQiLCJoZWFkU2VnbWVudCIsImRpcmVjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsZWFySW50ZXJ2YWwiLCJzbmFrZSIsImN1ckhlYWRYIiwiY3VySGVhZFkiLCJuZXdUYWlsIiwibmV3SGVhZCIsImRpcmN0aW9uVXBkYXRlIiwiY2FudmFzRWwiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZ2V0Q29udGV4dCIsInNldEludGVydmFsIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsTUFBUCxHQUFnQixZQUFXO0FBQ3ZCLFVBQU1DLGNBQWMsSUFBcEI7QUFDQSxVQUFNQyxlQUFlLElBQXJCO0FBQ0EsUUFBSUMsZUFBZSxFQUFuQjtBQUNBLFFBQUlD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WCxHQUFlNEMsV0FBV0csZUFBZS9DLENBQXpDO0FBQ0EwQyxzQkFBTXpCLElBQU4sQ0FBV0UsTUFBWCxHQUFvQixLQUFwQjtBQUNBdUIsc0JBQU16QixJQUFOLENBQVdPLElBQVg7QUFDQWtCLHNCQUFNbkMsZ0JBQU4sR0FBeUI0QixTQUF6QjtBQUNIO0FBQ0o7QUFDSixLQTFCRDs7QUE0QkEsUUFBSWEsV0FBV1YsU0FBU1csY0FBVCxDQUF3QixNQUF4QixDQUFmO0FBQ0FELGFBQVNFLEtBQVQsQ0FBZUMsZUFBZixHQUFpQywwQkFBakM7QUFDQUgsYUFBU3ZCLEtBQVQsR0FBaUJuQyxXQUFqQjtBQUNBMEQsYUFBU3RCLE1BQVQsR0FBa0JuQyxZQUFsQjtBQUNBLFFBQUlxQixNQUFNb0MsU0FBU0ksVUFBVCxDQUFvQixJQUFwQixDQUFWO0FBQ0EsUUFBSVYsUUFBUSxJQUFJakMsS0FBSixDQUFVO0FBQ2xCUixXQUFHWCxjQUFZLENBREc7QUFFbEJVLFdBQUdULGVBQWEsQ0FGRTtBQUdsQnFCLGFBQUtBO0FBSGEsS0FBVixDQUFaOztBQU1BbEIsZUFBVzJELFlBQVksWUFBVztBQUNoQ1gsY0FBTXBCLE9BQU47QUFDRCxLQUZVLEVBRVIsT0FBTzdCLEdBRkMsQ0FBWDtBQUdILENBektEIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IDE1MDA7XHJcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPSAxNTAwO1xyXG4gICAgdmFyIFNFR01FTlRfU0laRSA9IDIwXHJcbiAgICB2YXIgRlBTID0gNjA7XHJcbiAgICB2YXIgZ2FtZUxvb3A7XHJcbiAgICB2YXIgZ2FtZVJ1bm5pbmcgPSB0cnVlO1xyXG5cclxuICAgIHZhciBkaXJLZXlMb29rdXAgPSB7XHJcbiAgICAgICAgMzc6ICdXRVNUJyxcclxuICAgICAgICAzODogJ05PUlRIJyxcclxuICAgICAgICAzOTogJ0VBU1QnLFxyXG4gICAgICAgIDQwOiAnU09VVEgnXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB1bmFsbG93ZWREaXJMb29rdXAgPSB7XHJcbiAgICAgICAgJ1dFU1QnOiAzOSxcclxuICAgICAgICAnTk9SVEgnOiA0MCxcclxuICAgICAgICAnRUFTVCc6IDM3LFxyXG4gICAgICAgICdTT1VUSCc6IDM4XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBkaXJVcGRhdGVMb29rdXAgPSB7XHJcbiAgICAgICAgTk9SVEg6IHtcclxuICAgICAgICAgICAgeTogLTEgKiBTRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHg6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFNPVVRIOiB7XHJcbiAgICAgICAgICAgIHk6IFNFR01FTlRfU0laRSxcclxuICAgICAgICAgICAgeDogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgRUFTVDoge1xyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB4OiBTRUdNRU5UX1NJWkVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFdFU1Q6IHtcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDogLTEgKiBTRUdNRU5UX1NJWkVcclxuICAgICAgICB9LCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkRGlyZWN0aW9uQ2hhbmdlKGtleUNvZGUsIGN1cnJlbnREaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgdW5hbGxvd2VkID0gdW5hbGxvd2VkRGlyTG9va3VwW2N1cnJlbnREaXJlY3Rpb25dXHJcbiAgICAgICAgcmV0dXJuIGtleUNvZGUgIT0gdW5hbGxvd2VkO1xyXG4gICAgfSAgICBcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gU25ha2Uob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7ICAgXHJcbiAgICAgICAgdmFyIHggPSBvcHRpb25zLnggfHwgMDtcclxuICAgICAgICB2YXIgeSA9IG9wdGlvbnMueSB8fCAwO1xyXG5cclxuICAgICAgICBtZS5jdHggPSBvcHRpb25zLmN0eDtcclxuICAgICAgICBtZS5jdXJyZW50RGlyZWN0aW9uID0gJ0VBU1QnO1xyXG5cclxuICAgICAgICB2YXIgdGFpbCA9IG5ldyBTbmFrZVNlZ21lbnQoe1xyXG4gICAgICAgICAgICBpc1RhaWw6IHRydWUsXHJcbiAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgICAgIGN0eDogbWUuY3R4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGJvZHkgPSBuZXcgU25ha2VTZWdtZW50KHtcclxuICAgICAgICAgICAgeDogdGFpbC54ICsgU0VHTUVOVF9TSVpFLFxyXG4gICAgICAgICAgICB5OiB0YWlsLnksXHJcbiAgICAgICAgICAgIGN0eDogbWUuY3R4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGhlYWQgPSBuZXcgU25ha2VTZWdtZW50KHtcclxuICAgICAgICAgICAgaXNIZWFkOiB0cnVlLFxyXG4gICAgICAgICAgICB4OiBib2R5LnggKyBTRUdNRU5UX1NJWkUsXHJcbiAgICAgICAgICAgIHk6IGJvZHkueSxcclxuICAgICAgICAgICAgY29sb3VyOiAncmVkJyxcclxuICAgICAgICAgICAgY3R4OiBtZS5jdHhcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGFpbC5uZXh0ID0gYm9keTtcclxuICAgICAgICBib2R5Lm5leHQgPSBoZWFkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lLmhlYWQgPSBoZWFkO1xyXG4gICAgICAgIG1lLnRhaWwgPSB0YWlsO1xyXG4gICAgfVxyXG5cclxuICAgIFNuYWtlLnByb3RvdHlwZS5kcmF3QWxsID0gZnVuY3Rpb24gZHJhd0FsbCgpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzZWdtZW50ID0gbWUudGFpbDtcclxuICAgICAgICBzZWdtZW50LmRyYXcoKTtcclxuICAgICAgICB3aGlsZShzZWdtZW50Lm5leHQpIHtcclxuICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnQubmV4dDtcclxuICAgICAgICAgICAgc2VnbWVudC5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBTbmFrZVNlZ21lbnQob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIG1lLndpZHRoID0gU0VHTUVOVF9TSVpFO1xyXG4gICAgICAgIG1lLmhlaWdodCA9IFNFR01FTlRfU0laRTtcclxuICAgICAgICBtZS5jb2xvdXIgPSBvcHRpb25zLmNvbG91ciB8fCBcImJsYWNrXCI7XHJcbiAgICAgICAgbWUubmV4dCA9IG9wdGlvbnMubmV4dCB8fCBudWxsO1xyXG4gICAgICAgIG1lLnByZXYgPSBvcHRpb25zLnByZXYgfHwgbnVsbDtcclxuICAgICAgICBtZS54ID0gb3B0aW9ucy54O1xyXG4gICAgICAgIG1lLnkgPSBvcHRpb25zLnk7XHJcbiAgICAgICAgbWUuY3R4ID0gb3B0aW9ucy5jdHg7XHJcbiAgICB9XHJcblxyXG4gICAgU25ha2VTZWdtZW50LnByb3RvdHlwZS51cGRhdGVQb3MgPSBmdW5jdGlvbiB1cGRhdGVQb3MoeCwgeSkge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH07XHJcblxyXG4gICAgU25ha2VTZWdtZW50LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gZHJhdygpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIG1lLmN0eC5maWxsU3R5bGUgPSBtZS5jb2xvdXI7XHJcbiAgICAgICAgbWUuY3R4LmZpbGxSZWN0KG1lLngsIG1lLnksIG1lLndpZHRoLCBtZS5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIFNuYWtlU2VnbWVudC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIG1lLmN0eC5jbGVhclJlY3QobWUueCwgbWUueSwgbWUud2lkdGgsIG1lLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgU25ha2VTZWdtZW50LnByb3RvdHlwZS5kcmF3TmV4dCA9IGZ1bmN0aW9uIGRyYXdOZXh0KGhlYWRTZWdtZW50LCBkaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIG1lLmlzSGVhZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJHT0dPR09HT1wiKTtcclxuICAgIFxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PT0gODEpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChnYW1lTG9vcCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKGV2ZW50LmtleUNvZGUgPT0gMzcgfHwgZXZlbnQua2V5Q29kZSA9PSAzOSB8fCBldmVudC5rZXlDb2RlID09IDM4IHx8IGV2ZW50LmtleUNvZGUgPT0gNDApIHsgLy9MRUZUXHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZERpcmVjdGlvbkNoYW5nZShldmVudC5rZXlDb2RlLCBzbmFrZS5jdXJyZW50RGlyZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgc25ha2UuaGVhZC5jb2xvdXIgPSAnYmxhY2snO1xyXG4gICAgICAgICAgICAgICAgc25ha2UuaGVhZC5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VySGVhZFggPSBzbmFrZS5oZWFkLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VySGVhZFkgPSBzbmFrZS5oZWFkLnk7XHJcbiAgICAgICAgICAgICAgICBzbmFrZS50YWlsLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3VGFpbCA9IHNuYWtlLnRhaWwubmV4dDtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdIZWFkID0gc25ha2UudGFpbFxyXG4gICAgICAgICAgICAgICAgbmV3SGVhZC5uZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHNuYWtlLmhlYWQubmV4dCA9IG5ld0hlYWQ7XHJcbiAgICAgICAgICAgICAgICBzbmFrZS5oZWFkID0gbmV3SGVhZDtcclxuICAgICAgICAgICAgICAgIHNuYWtlLnRhaWwgPSBuZXdUYWlsO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcktleUxvb2t1cFtldmVudC5rZXlDb2RlXTtcclxuICAgICAgICAgICAgICAgIHZhciBkaXJjdGlvblVwZGF0ZSA9IGRpclVwZGF0ZUxvb2t1cFtkaXJlY3Rpb25dO1xyXG4gICAgICAgICAgICAgICAgc25ha2UuaGVhZC54ID0gY3VySGVhZFggKyBkaXJjdGlvblVwZGF0ZS54O1xyXG4gICAgICAgICAgICAgICAgc25ha2UuaGVhZC55ID0gY3VySGVhZFkgKyBkaXJjdGlvblVwZGF0ZS55O1xyXG4gICAgICAgICAgICAgICAgc25ha2UuaGVhZC5jb2xvdXIgPSAncmVkJztcclxuICAgICAgICAgICAgICAgIHNuYWtlLmhlYWQuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgc25ha2UuY3VycmVudERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBjYW52YXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjYW52YXNFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgxNTgsIDE2NywgMTg0LCAwLjIpJztcclxuICAgIGNhbnZhc0VsLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICBjYW52YXNFbC5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB2YXIgY3R4ID0gY2FudmFzRWwuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIHZhciBzbmFrZSA9IG5ldyBTbmFrZSh7XHJcbiAgICAgICAgeDogY2FudmFzV2lkdGgvMixcclxuICAgICAgICB5OiBjYW52YXNIZWlnaHQvMixcclxuICAgICAgICBjdHg6IGN0eFxyXG4gICAgfSk7XHJcblxyXG4gICAgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgc25ha2UuZHJhd0FsbCgpICA7XHJcbiAgICB9LCAxMDAwIC8gRlBTKTtcclxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);